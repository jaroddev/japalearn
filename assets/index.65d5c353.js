var Vt=Object.defineProperty;var Xt=(e,t,a)=>t in e?Vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var O=(e,t,a)=>(Xt(e,typeof t!="symbol"?t+"":t,a),a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();function b(){}function te(e,t){for(const a in t)e[a]=t[a];return e}function Ct(e){return e()}function jt(){return Object.create(null)}function I(e){e.forEach(Ct)}function Rt(e){return typeof e=="function"}function q(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ee(e){return Object.keys(e).length===0}function ae(e,...t){if(e==null)return b;const a=e.subscribe(...t);return a.unsubscribe?()=>a.unsubscribe():a}function ft(e,t,a){e.$$.on_destroy.push(ae(t,a))}function Kt(e,t,a,n){if(e){const r=zt(e,t,a,n);return e[0](r)}}function zt(e,t,a,n){return e[1]&&n?te(a.ctx.slice(),e[1](n(t))):a.ctx}function Ft(e,t,a,n){if(e[2]&&n){const r=e[2](n(a));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],s=Math.max(t.dirty.length,r.length);for(let o=0;o<s;o+=1)i[o]=t.dirty[o]|r[o];return i}return t.dirty|r}return t.dirty}function Nt(e,t,a,n,r,i){if(r){const s=zt(t,a,n,i);e.p(s,r)}}function Yt(e){if(e.ctx.length>32){const t=[],a=e.ctx.length/32;for(let n=0;n<a;n++)t[n]=-1;return t}return-1}function g(e,t){e.appendChild(t)}function y(e,t,a){e.insertBefore(t,a||null)}function v(e){e.parentNode.removeChild(e)}function It(e,t){for(let a=0;a<e.length;a+=1)e[a]&&e[a].d(t)}function k(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function S(){return w(" ")}function ne(){return w("")}function B(e,t,a,n){return e.addEventListener(t,a,n),()=>e.removeEventListener(t,a,n)}function p(e,t,a){a==null?e.removeAttribute(t):e.getAttribute(t)!==a&&e.setAttribute(t,a)}function re(e){return Array.from(e.childNodes)}function C(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function vt(e,t){e.value=t==null?"":t}function yt(e,t,a,n){a===null?e.style.removeProperty(t):e.style.setProperty(t,a,n?"important":"")}let Q;function D(e){Q=e}function et(){if(!Q)throw new Error("Function called outside component initialization");return Q}function se(e){et().$$.on_mount.push(e)}function ie(e,t){return et().$$.context.set(e,t),t}function ht(e){return et().$$.context.get(e)}function oe(e){return et().$$.context.has(e)}const P=[],wt=[],J=[],$t=[],Wt=Promise.resolve();let it=!1;function Pt(){it||(it=!0,Wt.then(Bt))}function le(){return Pt(),Wt}function ot(e){J.push(e)}const rt=new Set;let Z=0;function Bt(){const e=Q;do{for(;Z<P.length;){const t=P[Z];Z++,D(t),ce(t.$$)}for(D(null),P.length=0,Z=0;wt.length;)wt.pop()();for(let t=0;t<J.length;t+=1){const a=J[t];rt.has(a)||(rt.add(a),a())}J.length=0}while(P.length);for(;$t.length;)$t.pop()();it=!1,rt.clear(),D(e)}function ce(e){if(e.fragment!==null){e.update(),I(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ot)}}const U=new Set;let F;function mt(){F={r:0,c:[],p:F}}function dt(){F.r||I(F.c),F=F.p}function _(e,t){e&&e.i&&(U.delete(e),e.i(t))}function j(e,t,a,n){if(e&&e.o){if(U.has(e))return;U.add(e),F.c.push(()=>{U.delete(e),n&&(a&&e.d(1),n())}),e.o(t)}else n&&n()}function R(e){e&&e.c()}function L(e,t,a,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,a),n||ot(()=>{const s=e.$$.on_mount.map(Ct).filter(Rt);e.$$.on_destroy?e.$$.on_destroy.push(...s):I(s),e.$$.on_mount=[]}),i.forEach(ot)}function T(e,t){const a=e.$$;a.fragment!==null&&(I(a.on_destroy),a.fragment&&a.fragment.d(t),a.on_destroy=a.fragment=null,a.ctx=[])}function ue(e,t){e.$$.dirty[0]===-1&&(P.push(e),Pt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(e,t,a,n,r,i,s,o=[-1]){const f=Q;D(e);const c=e.$$={fragment:null,ctx:[],props:i,update:b,not_equal:r,bound:jt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:jt(),dirty:o,skip_bound:!1,root:t.target||f.$$.root};s&&s(c.root);let l=!1;if(c.ctx=a?a(e,t.props||{},(h,u,...d)=>{const m=d.length?d[0]:u;return c.ctx&&r(c.ctx[h],c.ctx[h]=m)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](m),l&&ue(e,h)),u}):[],c.update(),l=!0,I(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const h=re(t.target);c.fragment&&c.fragment.l(h),h.forEach(v)}else c.fragment&&c.fragment.c();t.intro&&_(e.$$.fragment),L(e,t.target,t.anchor,t.customElement),Bt()}D(f)}class z{$destroy(){T(this,1),this.$destroy=b}$on(t,a){if(!Rt(a))return b;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(a),()=>{const r=n.indexOf(a);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!ee(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=[];function at(e,t=b){let a;const n=new Set;function r(o){if(q(e,o)&&(e=o,a)){const f=!Y.length;for(const c of n)c[1](),Y.push(c,e);if(f){for(let c=0;c<Y.length;c+=2)Y[c][0](Y[c+1]);Y.length=0}}}function i(o){r(o(e))}function s(o,f=b){const c=[o,f];return n.add(c),n.size===1&&(a=t(r)||b),o(e),()=>{n.delete(c),n.size===0&&(a(),a=null)}}return{set:r,update:i,subscribe:s}}function lt(e,t=!1){return e=e.slice(e.startsWith("/#")?2:0,e.endsWith("/*")?-2:void 0),e.startsWith("/")||(e="/"+e),e==="/"&&(e=""),t&&!e.endsWith("/")&&(e+="/"),e}function fe(e,t){e=lt(e,!0),t=lt(t,!0);let a=[],n={},r=!0,i=e.split("/").map(o=>o.startsWith(":")?(a.push(o.slice(1)),"([^\\/]+)"):o).join("\\/"),s=t.match(new RegExp(`^${i}$`));return s||(r=!1,s=t.match(new RegExp(`^${i}`))),s?(a.forEach((o,f)=>n[o]=s[f+1]),{exact:r,params:n,part:s[0].slice(0,-1)}):null}function Dt(e,t,a){if(a==="")return e;if(a[0]==="/")return a;let n=s=>s.split("/").filter(o=>o!==""),r=n(e),i=t?n(t):[];return"/"+i.map((s,o)=>r[o]).join("/")+"/"+a}function xt(e,t,a,n){let r=[t,"data-"+t].reduce((i,s)=>{let o=e.getAttribute(s);return a&&e.removeAttribute(s),o===null?i:o},!1);return!n&&r===""?!0:r||n||!1}function he(e){let t=e.split("&").map(a=>a.split("=")).reduce((a,n)=>{let r=n[0];if(!r)return a;let i=n.length>1?n[n.length-1]:!0;return typeof i=="string"&&i.includes(",")&&(i=i.split(",")),a[r]===void 0?a[r]=[i]:a[r].push(i),a},{});return Object.entries(t).reduce((a,n)=>(a[n[0]]=n[1].length>1?n[1]:n[1][0],a),{})}function me(e){return Object.entries(e).map(([t,a])=>a?a===!0?t:`${t}=${Array.isArray(a)?a.join(","):a}`:null).filter(t=>t).join("&")}function St(e,t){return e?t+e:""}function Gt(e){throw new Error("[Tinro] "+e)}var x={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(e,t,a,n){return e===this.HISTORY?t&&t():e===this.HASH?a&&a():n&&n()},getDefault(){return!window||window.location.pathname==="srcdoc"?this.MEMORY:this.HISTORY}},gt,Qt,Zt,V="",$=de();function de(){let e=x.getDefault(),t,a=s=>window.onhashchange=window.onpopstate=gt=null,n=s=>t&&t(st(e)),r=s=>{s&&(e=s),a(),e!==x.OFF&&x.run(e,o=>window.onpopstate=n,o=>window.onhashchange=n)&&n()},i=s=>{let o=Object.assign(st(e),s);return o.path+St(me(o.query),"?")+St(o.hash,"#")};return{mode:r,get:s=>st(e),go(s,o){ge(e,s,o),n()},start(s){t=s,r()},stop(){t=null,r(x.OFF)},set(s){this.go(i(s),!s.path)},methods(){return pe(this)},base:s=>V=s}}function ge(e,t,a){!a&&(Qt=Zt);let n=r=>history[`${a?"replace":"push"}State`]({},"",r);x.run(e,r=>n(V+t),r=>n(`#${t}`),r=>gt=t)}function st(e){let t=window.location,a=x.run(e,r=>(V?t.pathname.replace(V,""):t.pathname)+t.search+t.hash,r=>String(t.hash.slice(1)||"/"),r=>gt||"/"),n=a.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return Zt=a,{url:a,from:Qt,path:n[1]||"",query:he(n[2]||""),hash:n[3]||""}}function pe(e){let t=()=>e.get().query,a=s=>e.set({query:s}),n=s=>a(s(t())),r=()=>e.get().hash,i=s=>e.set({hash:s});return{hash:{get:r,set:i,clear:()=>i("")},query:{replace:a,clear:()=>a(""),get(s){return s?t()[s]:t()},set(s,o){n(f=>(f[s]=o,f))},delete(s){n(o=>(o[s]&&delete o[s],o))}}}}var ct=ke();function ke(){let{subscribe:e}=at($.get(),t=>{$.start(t);let a=_e($.go);return()=>{$.stop(),a()}});return{subscribe:e,goto:$.go,params:be,meta:ye,useHashNavigation:t=>$.mode(t?x.HASH:x.HISTORY),mode:{hash:()=>$.mode(x.HASH),history:()=>$.mode(x.HISTORY),memory:()=>$.mode(x.MEMORY)},base:$.base,location:$.methods()}}function _e(e){let t=a=>{let n=a.target.closest("a[href]"),r=n&&xt(n,"target",!1,"_self"),i=n&&xt(n,"tinro-ignore"),s=a.ctrlKey||a.metaKey||a.altKey||a.shiftKey;if(r=="_self"&&!i&&!s&&n){let o=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(o)||(a.preventDefault(),e(o.startsWith("/")?o:n.href.replace(window.location.origin,"")))}};return addEventListener("click",t),()=>removeEventListener("click",t)}function be(){return ht("tinro").meta.params}var X="tinro",je=Jt({pattern:"",matched:!0});function ve(e){let t=ht(X)||je;(t.exact||t.fallback)&&Gt(`${e.fallback?"<Route fallback>":`<Route path="${e.path}">`}  can't be inside ${t.fallback?"<Route fallback>":`<Route path="${t.path||"/"}"> with exact path`}`);let a=e.fallback?"fallbacks":"childs",n=at({}),r=Jt({fallback:e.fallback,parent:t,update(i){r.exact=!i.path.endsWith("/*"),r.pattern=lt(`${r.parent.pattern||""}${i.path}`),r.redirect=i.redirect,r.firstmatch=i.firstmatch,r.breadcrumb=i.breadcrumb,r.match()},register:()=>(r.parent[a].add(r),async()=>{r.parent[a].delete(r),r.parent.activeChilds.delete(r),r.router.un&&r.router.un(),r.parent.match()}),show:()=>{e.onShow(),!r.fallback&&r.parent.activeChilds.add(r)},hide:()=>{e.onHide(),r.parent.activeChilds.delete(r)},match:async()=>{r.matched=!1;let{path:i,url:s,from:o,query:f}=r.router.location,c=fe(r.pattern,i);if(!r.fallback&&c&&r.redirect&&(!r.exact||r.exact&&c.exact)){let l=Dt(i,r.parent.pattern,r.redirect);return ct.goto(l,!0)}r.meta=c&&{from:o,url:s,query:f,match:c.part,pattern:r.pattern,breadcrumbs:r.parent.meta&&r.parent.meta.breadcrumbs.slice()||[],params:c.params,subscribe:n.subscribe},r.breadcrumb&&r.meta&&r.meta.breadcrumbs.push({name:r.breadcrumb,path:c.part}),n.set(r.meta),c&&!r.fallback&&(!r.exact||r.exact&&c.exact)&&(!r.parent.firstmatch||!r.parent.matched)?(e.onMeta(r.meta),r.parent.matched=!0,r.show()):r.hide(),c&&r.showFallbacks()}});return ie(X,r),se(()=>r.register()),r}function ye(){return oe(X)?ht(X).meta:Gt("meta() function must be run inside any `<Route>` child component only")}function Jt(e){let t={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await le(),this.childs.size>0&&this.activeChilds.size==0||this.childs.size==0&&this.fallbacks.size>0)){let a=this;for(;a.fallbacks.size==0;)if(a=a.parent,!a)return;a&&a.fallbacks.forEach(n=>{if(n.redirect){let r=Dt("/",n.parent.pattern,n.redirect);ct.goto(r,!0)}else n.show()})}},start(){this.router.un||(this.router.un=ct.subscribe(a=>{this.router.location=a,this.pattern!==null&&this.match()}))},match(){this.showFallbacks()}};return Object.assign(t,e),t.start(),t}const we=e=>({params:e&2,meta:e&4}),Et=e=>({params:e[1],meta:e[2]});function Ht(e){let t;const a=e[9].default,n=Kt(a,e,e[8],Et);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),t=!0},p(r,i){n&&n.p&&(!t||i&262)&&Nt(n,a,r,r[8],t?Ft(a,r[8],i,we):Yt(r[8]),Et)},i(r){t||(_(n,r),t=!0)},o(r){j(n,r),t=!1},d(r){n&&n.d(r)}}}function $e(e){let t,a,n=e[0]&&Ht(e);return{c(){n&&n.c(),t=ne()},m(r,i){n&&n.m(r,i),y(r,t,i),a=!0},p(r,[i]){r[0]?n?(n.p(r,i),i&1&&_(n,1)):(n=Ht(r),n.c(),_(n,1),n.m(t.parentNode,t)):n&&(mt(),j(n,1,1,()=>{n=null}),dt())},i(r){a||(_(n),a=!0)},o(r){j(n),a=!1},d(r){n&&n.d(r),r&&v(t)}}}function xe(e,t,a){let{$$slots:n={},$$scope:r}=t,{path:i="/*"}=t,{fallback:s=!1}=t,{redirect:o=!1}=t,{firstmatch:f=!1}=t,{breadcrumb:c=null}=t,l=!1,h={},u={};const d=ve({fallback:s,onShow(){a(0,l=!0)},onHide(){a(0,l=!1)},onMeta(m){a(2,u=m),a(1,h=u.params)}});return e.$$set=m=>{"path"in m&&a(3,i=m.path),"fallback"in m&&a(4,s=m.fallback),"redirect"in m&&a(5,o=m.redirect),"firstmatch"in m&&a(6,f=m.firstmatch),"breadcrumb"in m&&a(7,c=m.breadcrumb),"$$scope"in m&&a(8,r=m.$$scope)},e.$$.update=()=>{e.$$.dirty&232&&d.update({path:i,redirect:o,firstmatch:f,breadcrumb:c})},[l,h,u,i,s,o,f,c,r,n]}class At extends z{constructor(t){super(),K(this,t,xe,$e,q,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}class Se{constructor(){O(this,"subsets")}}var M=(e=>(e[e.Kata=0]="Kata",e[e.Hira=1]="Hira",e))(M||{});class Ee{static createKana(t){let a=new Se;return a.subsets=[t.common(),t.extended(),t.dakuon(),t.handakuon()],a}}class He{constructor(){O(this,"assignement");O(this,"hint");O(this,"answer")}checkAnswer(){return this.answer.given.toLowerCase()===this.answer.expected.toLowerCase()}score(){return this.checkAnswer()?1:0}}const Ae="Common Kana",Oe=[{romaji:"a",hiragana:"\u3042",katakana:"\u30A2"},{romaji:"i",hiragana:"\u3044",katakana:"\u30A4"},{romaji:"u",hiragana:"\u3046",katakana:"\u30A6"},{romaji:"e",hiragana:"\u3048",katakana:"\u30A8"},{romaji:"o",hiragana:"\u304A",katakana:"\u30AA"},{romaji:"ka",hiragana:"\u304B",katakana:"\u30AB"},{romaji:"ki",hiragana:"\u304D",katakana:"\u30AD"},{romaji:"ku",hiragana:"\u304F",katakana:"\u30AF"},{romaji:"ke",hiragana:"\u3051",katakana:"\u30B1"},{romaji:"ko",hiragana:"\u3053",katakana:"\u30B3"},{romaji:"sa",hiragana:"\u3055",katakana:"\u30B5"},{romaji:"shi",hiragana:"\u3057",katakana:"\u30B7"},{romaji:"su",hiragana:"\u3059",katakana:"\u30B9"},{romaji:"se",hiragana:"\u305B",katakana:"\u30BB"},{romaji:"so",hiragana:"\u305D",katakana:"\u30BD"},{romaji:"ta",hiragana:"\u305F",katakana:"\u30BF"},{romaji:"chi",hiragana:"\u3061",katakana:"\u30C1"},{romaji:"tsu",hiragana:"\u3064",katakana:"\u30C4"},{romaji:"te",hiragana:"\u3066",katakana:"\u30C6"},{romaji:"to",hiragana:"\u3068",katakana:"\u30C8"},{romaji:"na",hiragana:"\u306A",katakana:"\u30CA"},{romaji:"ni",hiragana:"\u306B",katakana:"\u30CB"},{romaji:"nu",hiragana:"\u306C",katakana:"\u30CC"},{romaji:"ne",hiragana:"\u306D",katakana:"\u30CD"},{romaji:"no",hiragana:"\u306E",katakana:"\u30CE"},{romaji:"ha",hiragana:"\u306F",katakana:"\u30CF"},{romaji:"hi",hiragana:"\u3072",katakana:"\u30D2"},{romaji:"fu",hiragana:"\u3075",katakana:"\u30D5"},{romaji:"he",hiragana:"\u3078",katakana:"\u30D8"},{romaji:"ho",hiragana:"\u307B",katakana:"\u30DB"},{romaji:"ma",hiragana:"\u307E",katakana:"\u30DE"},{romaji:"mi",hiragana:"\u307F",katakana:"\u30DF"},{romaji:"mu",hiragana:"\u3080",katakana:"\u30E0"},{romaji:"me",hiragana:"\u3081",katakana:"\u30E1"},{romaji:"mo",hiragana:"\u3082",katakana:"\u30E2"},{romaji:"ra",hiragana:"\u3089",katakana:"\u30E9"},{romaji:"ri",hiragana:"\u308A",katakana:"\u30EA"},{romaji:"ru",hiragana:"\u308B",katakana:"\u30EB"},{romaji:"re",hiragana:"\u308C",katakana:"\u30EC"},{romaji:"ro",hiragana:"\u308D",katakana:"\u30ED"}],Me={name:Ae,letters:Oe},Le="Other Kana",Te=[{romaji:"ya",hiragana:"\u3084",katakana:"\u30E4"},{romaji:"yu",hiragana:"\u3086",katakana:"\u30E6"},{romaji:"yo",hiragana:"\u3088",katakana:"\u30E8"},{romaji:"wa",hiragana:"\u308F",katakana:"\u30EF"},{romaji:"n",hiragana:"\u3093",katakana:"\u30F3"}],qe={name:Le,letters:Te},Ce="Dakuon",Re=[{romaji:"ga",hiragana:"\u304C",katakana:"\u30AC"},{romaji:"gi",hiragana:"\u304E",katakana:"\u30AE"},{romaji:"gu",hiragana:"\u3050",katakana:"\u30B0"},{romaji:"ge",hiragana:"\u3052",katakana:"\u30B2"},{romaji:"go",hiragana:"\u3054",katakana:"\u30B4"},{romaji:"za",hiragana:"\u3056",katakana:"\u30B6"},{romaji:"ji",hiragana:"\u3058",katakana:"\u30B8"},{romaji:"zu",hiragana:"\u305A",katakana:"\u30BA"},{romaji:"ze",hiragana:"\u305C",katakana:"\u30BC"},{romaji:"zo",hiragana:"\u305E",katakana:"\u30BE"},{romaji:"da",hiragana:"\u3060",katakana:"\u30C0"},{romaji:"ji",hiragana:"\u3062",katakana:"\u30C2"},{romaji:"zu",hiragana:"\u3065",katakana:"\u30C5"},{romaji:"de",hiragana:"\u3067",katakana:"\u30C7"},{romaji:"do",hiragana:"\u3069",katakana:"\u30C9"},{romaji:"ba",hiragana:"\u3070",katakana:"\u30D0"},{romaji:"bi",hiragana:"\u3073",katakana:"\u30D3"},{romaji:"bu",hiragana:"\u3076",katakana:"\u30D6"},{romaji:"be",hiragana:"\u3079",katakana:"\u30D9"},{romaji:"bo",hiragana:"\u307C",katakana:"\u30DC"}],Ke={name:Ce,letters:Re},ze="Handakuon",Fe=[{romaji:"pa",hiragana:"\u3071",katakana:"\u30D1"},{romaji:"pi",hiragana:"\u3074",katakana:"\u30D4"},{romaji:"pu",hiragana:"\u3077",katakana:"\u30D7"},{romaji:"pe",hiragana:"\u307A",katakana:"\u30DA"},{romaji:"po",hiragana:"\u307D",katakana:"\u30DD"}],Ne={name:ze,letters:Fe};class Ut{common(){return Me}extended(){return qe}dakuon(){return Ke}handakuon(){return Ne}}class Ye{constructor(){O(this,"factory");this.factory=new Ut}generateExercise(t,a){let n=new He;return n.assignement=`Translate this ${t} into romaji`,n.hint=a[t],n.answer={expected:a.romaji,given:""},n}generateLesson(){return[this.factory.common(),this.factory.extended(),this.factory.dakuon(),this.factory.handakuon()].flatMap(a=>G.drawLetters(a.letters,3)).map(a=>{const n=G.drawAlphabet();return this.generateExercise(n,a)})}}const tt=class{static drawAlphabet(){return tt.ExerciseType[Math.floor(Math.random()*tt.ExerciseType.length)]}static drawLetters(t,a){return a>t.length&&(a=t.length),Ie(t).slice(0,a)}};let G=tt;O(G,"ExerciseType",["katakana","hiragana"]);function Ie(e){const t=Array.from(e);for(e.length=0;t.length>0;){const a=Math.floor(Math.random()*t.length);e.push(t[a]),t.splice(a,1)}return e}const pt=We();function We(){const e=M.Hira,{subscribe:t,set:a}=at(e);let n=e;return{subscribe:t,changeType:()=>{n===M.Hira?n=M.Kata:n=M.Hira,a(n)}}}function Pe(e){let t,a,n,r,i,s,o,f;return{c(){t=k("button"),a=k("p"),n=w(e[0]),r=S(),i=k("p"),s=w(e[1]),p(a,"class","japanese svelte-58djdn"),p(i,"class","svelte-58djdn"),p(t,"class","letter svelte-58djdn")},m(c,l){y(c,t,l),g(t,a),g(a,n),g(t,r),g(t,i),g(i,s),o||(f=B(t,"click",e[2]),o=!0)},p(c,[l]){l&1&&C(n,c[0]),l&2&&C(s,c[1])},i:b,o:b,d(c){c&&v(t),o=!1,f()}}}function Be(e,t,a){let{japanese:n}=t,{romaji:r}=t;function i(){console.log("japanese is ",n," and romaji is ",r)}return e.$$set=s=>{"japanese"in s&&a(0,n=s.japanese),"romaji"in s&&a(1,r=s.romaji)},[n,r,i]}class De extends z{constructor(t){super(),K(this,t,Be,Pe,q,{japanese:0,romaji:1})}}function Ot(e,t,a){const n=e.slice();return n[4]=t[a].romaji,n[5]=t[a].hiragana,n[6]=t[a].katakana,n}const Ge=e=>({}),Mt=e=>({});function Lt(e){let t,a;return t=new De({props:{japanese:e[1]===M.Hira?e[5]:e[6],romaji:e[4]}}),{c(){R(t.$$.fragment)},m(n,r){L(t,n,r),a=!0},p(n,r){const i={};r&3&&(i.japanese=n[1]===M.Hira?n[5]:n[6]),r&1&&(i.romaji=n[4]),t.$set(i)},i(n){a||(_(t.$$.fragment,n),a=!0)},o(n){j(t.$$.fragment,n),a=!1},d(n){T(t,n)}}}function Qe(e){let t,a,n,r;const i=e[3].header,s=Kt(i,e,e[2],Mt);let o=e[0],f=[];for(let l=0;l<o.length;l+=1)f[l]=Lt(Ot(e,o,l));const c=l=>j(f[l],1,1,()=>{f[l]=null});return{c(){t=k("div"),s&&s.c(),a=S(),n=k("div");for(let l=0;l<f.length;l+=1)f[l].c();p(n,"class","grid svelte-19swv05"),p(t,"class","subset svelte-19swv05")},m(l,h){y(l,t,h),s&&s.m(t,null),g(t,a),g(t,n);for(let u=0;u<f.length;u+=1)f[u].m(n,null);r=!0},p(l,[h]){if(s&&s.p&&(!r||h&4)&&Nt(s,i,l,l[2],r?Ft(i,l[2],h,Ge):Yt(l[2]),Mt),h&3){o=l[0];let u;for(u=0;u<o.length;u+=1){const d=Ot(l,o,u);f[u]?(f[u].p(d,h),_(f[u],1)):(f[u]=Lt(d),f[u].c(),_(f[u],1),f[u].m(n,null))}for(mt(),u=o.length;u<f.length;u+=1)c(u);dt()}},i(l){if(!r){_(s,l);for(let h=0;h<o.length;h+=1)_(f[h]);r=!0}},o(l){j(s,l),f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)j(f[h]);r=!1},d(l){l&&v(t),s&&s.d(l),It(f,l)}}}function Ze(e,t,a){let n;ft(e,pt,o=>a(1,n=o));let{$$slots:r={},$$scope:i}=t,{letters:s}=t;return e.$$set=o=>{"letters"in o&&a(0,s=o.letters),"$$scope"in o&&a(2,i=o.$$scope)},[s,n,i,r]}class Je extends z{constructor(t){super(),K(this,t,Ze,Qe,q,{letters:0})}}function Ue(e){let t,a,n,r,i;return{c(){t=k("p"),a=k("span"),n=w("* "),r=w(e[0]),i=w(" *"),p(a,"class","svelte-rtoy8f"),p(t,"class","name svelte-rtoy8f")},m(s,o){y(s,t,o),g(t,a),g(a,n),g(a,r),g(a,i)},p(s,[o]){o&1&&C(r,s[0])},i:b,o:b,d(s){s&&v(t)}}}function Ve(e,t,a){let{name:n}=t;return e.$$set=r=>{"name"in r&&a(0,n=r.name)},[n]}class Xe extends z{constructor(t){super(),K(this,t,Ve,Ue,q,{name:0})}}function Tt(e,t,a){const n=e.slice();return n[3]=t[a].name,n[4]=t[a].letters,n}function ta(e){let t,a,n,r;return a=new Xe({props:{name:e[3]}}),{c(){t=k("div"),R(a.$$.fragment),n=S(),p(t,"slot","header")},m(i,s){y(i,t,s),L(a,t,null),g(t,n),r=!0},p:b,i(i){r||(_(a.$$.fragment,i),r=!0)},o(i){j(a.$$.fragment,i),r=!1},d(i){i&&v(t),T(a)}}}function qt(e){let t,a;return t=new Je({props:{letters:e[4],$$slots:{header:[ta]},$$scope:{ctx:e}}}),{c(){R(t.$$.fragment)},m(n,r){L(t,n,r),a=!0},p(n,r){const i={};r&128&&(i.$$scope={dirty:r,ctx:n}),t.$set(i)},i(n){a||(_(t.$$.fragment,n),a=!0)},o(n){j(t.$$.fragment,n),a=!1},d(n){T(t,n)}}}function ea(e){let t,a,n,r=e[0]===M.Hira?"Katakana":"Hiragana",i,s,o,f,c=e[1].subsets,l=[];for(let u=0;u<c.length;u+=1)l[u]=qt(Tt(e,c,u));const h=u=>j(l[u],1,1,()=>{l[u]=null});return{c(){t=k("div");for(let u=0;u<l.length;u+=1)l[u].c();a=S(),n=k("button"),i=w(r),p(t,"class","container svelte-t1ycgn"),p(n,"class","switch svelte-t1ycgn")},m(u,d){y(u,t,d);for(let m=0;m<l.length;m+=1)l[m].m(t,null);y(u,a,d),y(u,n,d),g(n,i),s=!0,o||(f=B(n,"click",pt.changeType),o=!0)},p(u,[d]){if(d&2){c=u[1].subsets;let m;for(m=0;m<c.length;m+=1){const E=Tt(u,c,m);l[m]?(l[m].p(E,d),_(l[m],1)):(l[m]=qt(E),l[m].c(),_(l[m],1),l[m].m(t,null))}for(mt(),m=c.length;m<l.length;m+=1)h(m);dt()}(!s||d&1)&&r!==(r=u[0]===M.Hira?"Katakana":"Hiragana")&&C(i,r)},i(u){if(!s){for(let d=0;d<c.length;d+=1)_(l[d]);s=!0}},o(u){l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)j(l[d]);s=!1},d(u){u&&v(t),It(l,u),u&&v(a),u&&v(n),o=!1,f()}}}function aa(e,t,a){let n;ft(e,pt,s=>a(0,n=s));const r=new Ut;let i=Ee.createKana(r);return[n,i]}class na extends z{constructor(t){super(),K(this,t,aa,ea,q,{})}}class kt{constructor(){O(this,"state");O(this,"message");this.state="unseen",this.message=""}}const ra=new kt;function sa(e,t){const a=new kt;a.message=e,a.state="success",t.set(a)}function ia(e,t){const a=new kt;a.message=e,a.state="error",t.set(a)}const ut=at(ra);function oa(e){let t,a,n,r=e[1].assignement+"",i,s,o,f,c,l,h,u=e[1].hint+"",d,m,E,H,_t,W,nt,bt;return{c(){t=k("div"),a=k("div"),n=k("p"),i=w(r),s=S(),o=k("div"),f=w(e[0]),c=S(),l=k("div"),h=k("div"),d=w(u),m=S(),E=k("div"),H=k("input"),_t=S(),W=k("button"),W.textContent="Check if valid",p(n,"class"," svelte-vtky0r"),p(a,"class","card assignment svelte-vtky0r"),p(o,"class","card score svelte-vtky0r"),p(h,"class","center svelte-vtky0r"),p(l,"class","card hint svelte-vtky0r"),yt(l,"border","1px solid transparent"),p(H,"class","card svelte-vtky0r"),p(H,"type","text"),p(H,"placeholder","translation"),p(W,"class","svelte-vtky0r"),p(E,"class","answer svelte-vtky0r"),yt(E,"border","1px solid transparent"),p(t,"class","layout svelte-vtky0r")},m(A,N){y(A,t,N),g(t,a),g(a,n),g(n,i),g(t,s),g(t,o),g(o,f),g(t,c),g(t,l),g(l,h),g(h,d),g(t,m),g(t,E),g(E,H),vt(H,e[1].answer.given),g(E,_t),g(E,W),nt||(bt=[B(H,"input",e[5]),B(H,"keydown",e[3]),B(W,"click",e[2])],nt=!0)},p(A,[N]){N&2&&r!==(r=A[1].assignement+"")&&C(i,r),N&1&&C(f,A[0]),N&2&&u!==(u=A[1].hint+"")&&C(d,u),N&2&&H.value!==A[1].answer.given&&vt(H,A[1].answer.given)},i:b,o:b,d(A){A&&v(t),nt=!1,I(bt)}}}function la(e,t,a){let n,r,s=new Ye().generateLesson(),o=0,f=0;function c(){n.checkAnswer()?sa("You've guessed correctly !",ut):ia("Wrong one",ut),a(0,f=s.reduce((u,d)=>u+d.score(),0)),r&&a(4,o++,o)}function l(u){u.key=="Enter"&&c()}function h(){n.answer.given=this.value,a(1,n),a(8,s),a(4,o)}return e.$$.update=()=>{e.$$.dirty&16&&a(1,n=s[o]),e.$$.dirty&16&&(r=o+1<s.length)},[f,n,c,l,o,h]}class ca extends z{constructor(t){super(),K(this,t,la,oa,q,{})}}function ua(e){let t,a=e[0].message+"",n,r;return{c(){t=k("div"),n=w(a),p(t,"class",r="toast toast-"+e[0].state+" svelte-oliv5q")},m(i,s){y(i,t,s),g(t,n)},p(i,[s]){s&1&&a!==(a=i[0].message+"")&&C(n,a),s&1&&r!==(r="toast toast-"+i[0].state+" svelte-oliv5q")&&p(t,"class",r)},i:b,o:b,d(i){i&&v(t)}}}function fa(e,t,a){let n;return ft(e,ut,r=>a(0,n=r)),[n]}class ha extends z{constructor(t){super(),K(this,t,fa,ua,q,{})}}function ma(e){let t,a;return t=new na({}),{c(){R(t.$$.fragment)},m(n,r){L(t,n,r),a=!0},i(n){a||(_(t.$$.fragment,n),a=!0)},o(n){j(t.$$.fragment,n),a=!1},d(n){T(t,n)}}}function da(e){let t,a;return t=new ca({}),{c(){R(t.$$.fragment)},m(n,r){L(t,n,r),a=!0},i(n){a||(_(t.$$.fragment,n),a=!0)},o(n){j(t.$$.fragment,n),a=!1},d(n){T(t,n)}}}function ga(e){let t,a,n,r,i,s,o,f,c;return r=new ha({}),s=new At({props:{path:"/japalearn/",$$slots:{default:[ma]},$$scope:{ctx:e}}}),f=new At({props:{path:"/japalearn/exercise",$$slots:{default:[da]},$$scope:{ctx:e}}}),{c(){t=k("header"),t.innerHTML=`<nav class="svelte-1rsp3qx"><a href="/japalearn/" class="svelte-1rsp3qx">Grille</a> 
    <a href="/japalearn/exercise" class="svelte-1rsp3qx">Exercice</a></nav>`,a=S(),n=k("main"),R(r.$$.fragment),i=S(),R(s.$$.fragment),o=S(),R(f.$$.fragment),p(t,"class","svelte-1rsp3qx")},m(l,h){y(l,t,h),y(l,a,h),y(l,n,h),L(r,n,null),g(n,i),L(s,n,null),g(n,o),L(f,n,null),c=!0},p(l,[h]){const u={};h&1&&(u.$$scope={dirty:h,ctx:l}),s.$set(u);const d={};h&1&&(d.$$scope={dirty:h,ctx:l}),f.$set(d)},i(l){c||(_(r.$$.fragment,l),_(s.$$.fragment,l),_(f.$$.fragment,l),c=!0)},o(l){j(r.$$.fragment,l),j(s.$$.fragment,l),j(f.$$.fragment,l),c=!1},d(l){l&&v(t),l&&v(a),l&&v(n),T(r),T(s),T(f)}}}class pa extends z{constructor(t){super(),K(this,t,null,ga,q,{})}}new pa({target:document.getElementById("app")});
