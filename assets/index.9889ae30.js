var Ve=Object.defineProperty;var et=(t,e,a)=>e in t?Ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var z=(t,e,a)=>(et(t,typeof e!="symbol"?e+"":e,a),a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();function w(){}function tt(t,e){for(const a in e)t[a]=e[a];return t}function Fe(t){return t()}function ye(){return Object.create(null)}function W(t){t.forEach(Fe)}function Ne(t){return typeof t=="function"}function L(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function at(t){return Object.keys(t).length===0}function nt(t,...e){if(t==null)return w;const a=t.subscribe(...e);return a.unsubscribe?()=>a.unsubscribe():a}function Ie(t,e,a){t.$$.on_destroy.push(nt(e,a))}function he(t,e,a,n){if(t){const r=Ye(t,e,a,n);return t[0](r)}}function Ye(t,e,a,n){return t[1]&&n?tt(a.ctx.slice(),t[1](n(e))):a.ctx}function me(t,e,a,n){if(t[2]&&n){const r=t[2](n(a));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],i=Math.max(e.dirty.length,r.length);for(let o=0;o<i;o+=1)s[o]=e.dirty[o]|r[o];return s}return e.dirty|r}return e.dirty}function de(t,e,a,n,r,s){if(r){const i=Ye(e,a,n,s);t.p(i,r)}}function ge(t){if(t.ctx.length>32){const e=[],a=t.ctx.length/32;for(let n=0;n<a;n++)e[n]=-1;return e}return-1}function d(t,e){t.appendChild(e)}function j(t,e,a){t.insertBefore(e,a||null)}function b(t){t.parentNode.removeChild(t)}function We(t,e){for(let a=0;a<t.length;a+=1)t[a]&&t[a].d(e)}function p(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function S(){return E(" ")}function rt(){return E("")}function D(t,e,a,n){return t.addEventListener(e,a,n),()=>t.removeEventListener(e,a,n)}function k(t,e,a){a==null?t.removeAttribute(e):t.getAttribute(e)!==a&&t.setAttribute(e,a)}function it(t){return Array.from(t.childNodes)}function N(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function xe(t,e){t.value=e==null?"":e}function X(t,e,a,n){a===null?t.style.removeProperty(e):t.style.setProperty(e,a,n?"important":"")}let Z;function G(t){Z=t}function ne(){if(!Z)throw new Error("Function called outside component initialization");return Z}function st(t){ne().$$.on_mount.push(t)}function ot(t,e){return ne().$$.context.set(t,e),e}function pe(t){return ne().$$.context.get(t)}function lt(t){return ne().$$.context.has(t)}const B=[],Se=[],U=[],Ee=[],Pe=Promise.resolve();let le=!1;function Be(){le||(le=!0,Pe.then(De))}function ct(){return Be(),Pe}function ce(t){U.push(t)}const se=new Set;let J=0;function De(){const t=Z;do{for(;J<B.length;){const e=B[J];J++,G(e),ut(e.$$)}for(G(null),B.length=0,J=0;Se.length;)Se.pop()();for(let e=0;e<U.length;e+=1){const a=U[e];se.has(a)||(se.add(a),a())}U.length=0}while(B.length);for(;Ee.length;)Ee.pop()();le=!1,se.clear(),G(t)}function ut(t){if(t.fragment!==null){t.update(),W(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ce)}}const V=new Set;let F;function ke(){F={r:0,c:[],p:F}}function _e(){F.r||W(F.c),F=F.p}function _(t,e){t&&t.i&&(V.delete(t),t.i(e))}function v(t,e,a,n){if(t&&t.o){if(V.has(t))return;V.add(t),F.c.push(()=>{V.delete(t),n&&(a&&t.d(1),n())}),t.o(e)}else n&&n()}function T(t){t&&t.c()}function M(t,e,a,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,a),n||ce(()=>{const i=t.$$.on_mount.map(Fe).filter(Ne);t.$$.on_destroy?t.$$.on_destroy.push(...i):W(i),t.$$.on_mount=[]}),s.forEach(ce)}function C(t,e){const a=t.$$;a.fragment!==null&&(W(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function ft(t,e){t.$$.dirty[0]===-1&&(B.push(t),Be(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,a,n,r,s,i,o=[-1]){const l=Z;G(t);const c=t.$$={fragment:null,ctx:[],props:s,update:w,not_equal:r,bound:ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ye(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};i&&i(c.root);let u=!1;if(c.ctx=a?a(t,e.props||{},(m,f,...g)=>{const h=g.length?g[0]:f;return c.ctx&&r(c.ctx[m],c.ctx[m]=h)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](h),u&&ft(t,m)),f}):[],c.update(),u=!0,W(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const m=it(e.target);c.fragment&&c.fragment.l(m),m.forEach(b)}else c.fragment&&c.fragment.c();e.intro&&_(t.$$.fragment),M(t,e.target,e.anchor,e.customElement),De()}G(l)}class K{$destroy(){C(this,1),this.$destroy=w}$on(e,a){if(!Ne(a))return w;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(a),()=>{const r=n.indexOf(a);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!at(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Y=[];function be(t,e=w){let a;const n=new Set;function r(o){if(L(t,o)&&(t=o,a)){const l=!Y.length;for(const c of n)c[1](),Y.push(c,t);if(l){for(let c=0;c<Y.length;c+=2)Y[c][0](Y[c+1]);Y.length=0}}}function s(o){r(o(t))}function i(o,l=w){const c=[o,l];return n.add(c),n.size===1&&(a=e(r)||w),o(t),()=>{n.delete(c),n.size===0&&(a(),a=null)}}return{set:r,update:s,subscribe:i}}function ue(t,e=!1){return t=t.slice(t.startsWith("/#")?2:0,t.endsWith("/*")?-2:void 0),t.startsWith("/")||(t="/"+t),t==="/"&&(t=""),e&&!t.endsWith("/")&&(t+="/"),t}function ht(t,e){t=ue(t,!0),e=ue(e,!0);let a=[],n={},r=!0,s=t.split("/").map(o=>o.startsWith(":")?(a.push(o.slice(1)),"([^\\/]+)"):o).join("\\/"),i=e.match(new RegExp(`^${s}$`));return i||(r=!1,i=e.match(new RegExp(`^${s}`))),i?(a.forEach((o,l)=>n[o]=i[l+1]),{exact:r,params:n,part:i[0].slice(0,-1)}):null}function Ge(t,e,a){if(a==="")return t;if(a[0]==="/")return a;let n=i=>i.split("/").filter(o=>o!==""),r=n(t),s=e?n(e):[];return"/"+s.map((i,o)=>r[o]).join("/")+"/"+a}function He(t,e,a,n){let r=[e,"data-"+e].reduce((s,i)=>{let o=t.getAttribute(i);return a&&t.removeAttribute(i),o===null?s:o},!1);return!n&&r===""?!0:r||n||!1}function mt(t){let e=t.split("&").map(a=>a.split("=")).reduce((a,n)=>{let r=n[0];if(!r)return a;let s=n.length>1?n[n.length-1]:!0;return typeof s=="string"&&s.includes(",")&&(s=s.split(",")),a[r]===void 0?a[r]=[s]:a[r].push(s),a},{});return Object.entries(e).reduce((a,n)=>(a[n[0]]=n[1].length>1?n[1]:n[1][0],a),{})}function dt(t){return Object.entries(t).map(([e,a])=>a?a===!0?e:`${e}=${Array.isArray(a)?a.join(","):a}`:null).filter(e=>e).join("&")}function Ae(t,e){return t?e+t:""}function Qe(t){throw new Error("[Tinro] "+t)}var x={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(t,e,a,n){return t===this.HISTORY?e&&e():t===this.HASH?a&&a():n&&n()},getDefault(){return!window||window.location.pathname==="srcdoc"?this.MEMORY:this.HISTORY}},je,Xe,Ze,ee="",y=gt();function gt(){let t=x.getDefault(),e,a=i=>window.onhashchange=window.onpopstate=je=null,n=i=>e&&e(oe(t)),r=i=>{i&&(t=i),a(),t!==x.OFF&&x.run(t,o=>window.onpopstate=n,o=>window.onhashchange=n)&&n()},s=i=>{let o=Object.assign(oe(t),i);return o.path+Ae(dt(o.query),"?")+Ae(o.hash,"#")};return{mode:r,get:i=>oe(t),go(i,o){pt(t,i,o),n()},start(i){e=i,r()},stop(){e=null,r(x.OFF)},set(i){this.go(s(i),!i.path)},methods(){return kt(this)},base:i=>ee=i}}function pt(t,e,a){!a&&(Xe=Ze);let n=r=>history[`${a?"replace":"push"}State`]({},"",r);x.run(t,r=>n(ee+e),r=>n(`#${e}`),r=>je=e)}function oe(t){let e=window.location,a=x.run(t,r=>(ee?e.pathname.replace(ee,""):e.pathname)+e.search+e.hash,r=>String(e.hash.slice(1)||"/"),r=>je||"/"),n=a.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return Ze=a,{url:a,from:Xe,path:n[1]||"",query:mt(n[2]||""),hash:n[3]||""}}function kt(t){let e=()=>t.get().query,a=i=>t.set({query:i}),n=i=>a(i(e())),r=()=>t.get().hash,s=i=>t.set({hash:i});return{hash:{get:r,set:s,clear:()=>s("")},query:{replace:a,clear:()=>a(""),get(i){return i?e()[i]:e()},set(i,o){n(l=>(l[i]=o,l))},delete(i){n(o=>(o[i]&&delete o[i],o))}}}}var fe=_t();function _t(){let{subscribe:t}=be(y.get(),e=>{y.start(e);let a=bt(y.go);return()=>{y.stop(),a()}});return{subscribe:t,goto:y.go,params:jt,meta:wt,useHashNavigation:e=>y.mode(e?x.HASH:x.HISTORY),mode:{hash:()=>y.mode(x.HASH),history:()=>y.mode(x.HISTORY),memory:()=>y.mode(x.MEMORY)},base:y.base,location:y.methods()}}function bt(t){let e=a=>{let n=a.target.closest("a[href]"),r=n&&He(n,"target",!1,"_self"),s=n&&He(n,"tinro-ignore"),i=a.ctrlKey||a.metaKey||a.altKey||a.shiftKey;if(r=="_self"&&!s&&!i&&n){let o=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(o)||(a.preventDefault(),t(o.startsWith("/")?o:n.href.replace(window.location.origin,"")))}};return addEventListener("click",e),()=>removeEventListener("click",e)}function jt(){return pe("tinro").meta.params}var te="tinro",vt=Je({pattern:"",matched:!0});function $t(t){let e=pe(te)||vt;(e.exact||e.fallback)&&Qe(`${t.fallback?"<Route fallback>":`<Route path="${t.path}">`}  can't be inside ${e.fallback?"<Route fallback>":`<Route path="${e.path||"/"}"> with exact path`}`);let a=t.fallback?"fallbacks":"childs",n=be({}),r=Je({fallback:t.fallback,parent:e,update(s){r.exact=!s.path.endsWith("/*"),r.pattern=ue(`${r.parent.pattern||""}${s.path}`),r.redirect=s.redirect,r.firstmatch=s.firstmatch,r.breadcrumb=s.breadcrumb,r.match()},register:()=>(r.parent[a].add(r),async()=>{r.parent[a].delete(r),r.parent.activeChilds.delete(r),r.router.un&&r.router.un(),r.parent.match()}),show:()=>{t.onShow(),!r.fallback&&r.parent.activeChilds.add(r)},hide:()=>{t.onHide(),r.parent.activeChilds.delete(r)},match:async()=>{r.matched=!1;let{path:s,url:i,from:o,query:l}=r.router.location,c=ht(r.pattern,s);if(!r.fallback&&c&&r.redirect&&(!r.exact||r.exact&&c.exact)){let u=Ge(s,r.parent.pattern,r.redirect);return fe.goto(u,!0)}r.meta=c&&{from:o,url:i,query:l,match:c.part,pattern:r.pattern,breadcrumbs:r.parent.meta&&r.parent.meta.breadcrumbs.slice()||[],params:c.params,subscribe:n.subscribe},r.breadcrumb&&r.meta&&r.meta.breadcrumbs.push({name:r.breadcrumb,path:c.part}),n.set(r.meta),c&&!r.fallback&&(!r.exact||r.exact&&c.exact)&&(!r.parent.firstmatch||!r.parent.matched)?(t.onMeta(r.meta),r.parent.matched=!0,r.show()):r.hide(),c&&r.showFallbacks()}});return ot(te,r),st(()=>r.register()),r}function wt(){return lt(te)?pe(te).meta:Qe("meta() function must be run inside any `<Route>` child component only")}function Je(t){let e={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await ct(),this.childs.size>0&&this.activeChilds.size==0||this.childs.size==0&&this.fallbacks.size>0)){let a=this;for(;a.fallbacks.size==0;)if(a=a.parent,!a)return;a&&a.fallbacks.forEach(n=>{if(n.redirect){let r=Ge("/",n.parent.pattern,n.redirect);fe.goto(r,!0)}else n.show()})}},start(){this.router.un||(this.router.un=fe.subscribe(a=>{this.router.location=a,this.pattern!==null&&this.match()}))},match(){this.showFallbacks()}};return Object.assign(e,t),e.start(),e}const yt=t=>({params:t&2,meta:t&4}),Oe=t=>({params:t[1],meta:t[2]});function Me(t){let e;const a=t[9].default,n=he(a,t,t[8],Oe);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&262)&&de(n,a,r,r[8],e?me(a,r[8],s,yt):ge(r[8]),Oe)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function xt(t){let e,a,n=t[0]&&Me(t);return{c(){n&&n.c(),e=rt()},m(r,s){n&&n.m(r,s),j(r,e,s),a=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=Me(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ke(),v(n,1,1,()=>{n=null}),_e())},i(r){a||(_(n),a=!0)},o(r){v(n),a=!1},d(r){n&&n.d(r),r&&b(e)}}}function St(t,e,a){let{$$slots:n={},$$scope:r}=e,{path:s="/*"}=e,{fallback:i=!1}=e,{redirect:o=!1}=e,{firstmatch:l=!1}=e,{breadcrumb:c=null}=e,u=!1,m={},f={};const g=$t({fallback:i,onShow(){a(0,u=!0)},onHide(){a(0,u=!1)},onMeta(h){a(2,f=h),a(1,m=f.params)}});return t.$$set=h=>{"path"in h&&a(3,s=h.path),"fallback"in h&&a(4,i=h.fallback),"redirect"in h&&a(5,o=h.redirect),"firstmatch"in h&&a(6,l=h.firstmatch),"breadcrumb"in h&&a(7,c=h.breadcrumb),"$$scope"in h&&a(8,r=h.$$scope)},t.$$.update=()=>{t.$$.dirty&232&&g.update({path:s,redirect:o,firstmatch:l,breadcrumb:c})},[u,m,f,s,i,o,l,c,r,n]}class Ce extends K{constructor(e){super(),q(this,e,St,xt,L,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}class Et{constructor(){z(this,"subsets")}}var O=(t=>(t[t.Kata=0]="Kata",t[t.Hira=1]="Hira",t))(O||{});class Ht{static createKana(e){let a=new Et;return a.subsets=[e.common(),e.extended(),e.dakuon(),e.handakuon()],a}}class At{constructor(){z(this,"assignement");z(this,"hint");z(this,"answer")}checkAnswer(){return this.answer.given.toLowerCase()===this.answer.expected.toLowerCase()}score(){return this.checkAnswer()?1:0}}const Ot="Common Kana",Mt=[{romaji:"a",hiragana:"\u3042",katakana:"\u30A2"},{romaji:"i",hiragana:"\u3044",katakana:"\u30A4"},{romaji:"u",hiragana:"\u3046",katakana:"\u30A6"},{romaji:"e",hiragana:"\u3048",katakana:"\u30A8"},{romaji:"o",hiragana:"\u304A",katakana:"\u30AA"},{romaji:"ka",hiragana:"\u304B",katakana:"\u30AB"},{romaji:"ki",hiragana:"\u304D",katakana:"\u30AD"},{romaji:"ku",hiragana:"\u304F",katakana:"\u30AF"},{romaji:"ke",hiragana:"\u3051",katakana:"\u30B1"},{romaji:"ko",hiragana:"\u3053",katakana:"\u30B3"},{romaji:"sa",hiragana:"\u3055",katakana:"\u30B5"},{romaji:"shi",hiragana:"\u3057",katakana:"\u30B7"},{romaji:"su",hiragana:"\u3059",katakana:"\u30B9"},{romaji:"se",hiragana:"\u305B",katakana:"\u30BB"},{romaji:"so",hiragana:"\u305D",katakana:"\u30BD"},{romaji:"ta",hiragana:"\u305F",katakana:"\u30BF"},{romaji:"chi",hiragana:"\u3061",katakana:"\u30C1"},{romaji:"tsu",hiragana:"\u3064",katakana:"\u30C4"},{romaji:"te",hiragana:"\u3066",katakana:"\u30C6"},{romaji:"to",hiragana:"\u3068",katakana:"\u30C8"},{romaji:"na",hiragana:"\u306A",katakana:"\u30CA"},{romaji:"ni",hiragana:"\u306B",katakana:"\u30CB"},{romaji:"nu",hiragana:"\u306C",katakana:"\u30CC"},{romaji:"ne",hiragana:"\u306D",katakana:"\u30CD"},{romaji:"no",hiragana:"\u306E",katakana:"\u30CE"},{romaji:"ha",hiragana:"\u306F",katakana:"\u30CF"},{romaji:"hi",hiragana:"\u3072",katakana:"\u30D2"},{romaji:"fu",hiragana:"\u3075",katakana:"\u30D5"},{romaji:"he",hiragana:"\u3078",katakana:"\u30D8"},{romaji:"ho",hiragana:"\u307B",katakana:"\u30DB"},{romaji:"ma",hiragana:"\u307E",katakana:"\u30DE"},{romaji:"mi",hiragana:"\u307F",katakana:"\u30DF"},{romaji:"mu",hiragana:"\u3080",katakana:"\u30E0"},{romaji:"me",hiragana:"\u3081",katakana:"\u30E1"},{romaji:"mo",hiragana:"\u3082",katakana:"\u30E2"},{romaji:"ra",hiragana:"\u3089",katakana:"\u30E9"},{romaji:"ri",hiragana:"\u308A",katakana:"\u30EA"},{romaji:"ru",hiragana:"\u308B",katakana:"\u30EB"},{romaji:"re",hiragana:"\u308C",katakana:"\u30EC"},{romaji:"ro",hiragana:"\u308D",katakana:"\u30ED"}],Ct={name:Ot,letters:Mt},Lt="Other Kana",Rt=[{romaji:"ya",hiragana:"\u3084",katakana:"\u30E4"},{romaji:"yu",hiragana:"\u3086",katakana:"\u30E6"},{romaji:"yo",hiragana:"\u3088",katakana:"\u30E8"},{romaji:"wa",hiragana:"\u308F",katakana:"\u30EF"},{romaji:"n",hiragana:"\u3093",katakana:"\u30F3"}],Tt={name:Lt,letters:Rt},qt="Dakuon",Kt=[{romaji:"ga",hiragana:"\u304C",katakana:"\u30AC"},{romaji:"gi",hiragana:"\u304E",katakana:"\u30AE"},{romaji:"gu",hiragana:"\u3050",katakana:"\u30B0"},{romaji:"ge",hiragana:"\u3052",katakana:"\u30B2"},{romaji:"go",hiragana:"\u3054",katakana:"\u30B4"},{romaji:"za",hiragana:"\u3056",katakana:"\u30B6"},{romaji:"ji",hiragana:"\u3058",katakana:"\u30B8"},{romaji:"zu",hiragana:"\u305A",katakana:"\u30BA"},{romaji:"ze",hiragana:"\u305C",katakana:"\u30BC"},{romaji:"zo",hiragana:"\u305E",katakana:"\u30BE"},{romaji:"da",hiragana:"\u3060",katakana:"\u30C0"},{romaji:"ji",hiragana:"\u3062",katakana:"\u30C2"},{romaji:"zu",hiragana:"\u3065",katakana:"\u30C5"},{romaji:"de",hiragana:"\u3067",katakana:"\u30C7"},{romaji:"do",hiragana:"\u3069",katakana:"\u30C9"},{romaji:"ba",hiragana:"\u3070",katakana:"\u30D0"},{romaji:"bi",hiragana:"\u3073",katakana:"\u30D3"},{romaji:"bu",hiragana:"\u3076",katakana:"\u30D6"},{romaji:"be",hiragana:"\u3079",katakana:"\u30D9"},{romaji:"bo",hiragana:"\u307C",katakana:"\u30DC"}],zt={name:qt,letters:Kt},Ft="Handakuon",Nt=[{romaji:"pa",hiragana:"\u3071",katakana:"\u30D1"},{romaji:"pi",hiragana:"\u3074",katakana:"\u30D4"},{romaji:"pu",hiragana:"\u3077",katakana:"\u30D7"},{romaji:"pe",hiragana:"\u307A",katakana:"\u30DA"},{romaji:"po",hiragana:"\u307D",katakana:"\u30DD"}],It={name:Ft,letters:Nt};class Ue{common(){return Ct}extended(){return Tt}dakuon(){return zt}handakuon(){return It}}class Yt{constructor(){z(this,"factory");this.factory=new Ue}generateExercise(e,a){let n=new At;return n.assignement=`Translate this ${e} into romaji`,n.hint=a[e],n.answer={expected:a.romaji,given:""},n}generateLesson(){return[this.factory.common(),this.factory.extended(),this.factory.dakuon(),this.factory.handakuon()].flatMap(a=>Q.drawLetters(a.letters,3)).map(a=>{const n=Q.drawAlphabet();return this.generateExercise(n,a)})}}const ae=class{static drawAlphabet(){return ae.ExerciseType[Math.floor(Math.random()*ae.ExerciseType.length)]}static drawLetters(e,a){return a>e.length&&(a=e.length),Wt(e).slice(0,a)}};let Q=ae;z(Q,"ExerciseType",["katakana","hiragana"]);function Wt(t){const e=Array.from(t);for(t.length=0;e.length>0;){const a=Math.floor(Math.random()*e.length);t.push(e[a]),e.splice(a,1)}return t}const ve=Pt();function Pt(){const t=O.Hira,{subscribe:e,set:a}=be(t);let n=t;return{subscribe:e,changeType:()=>{n===O.Hira?n=O.Kata:n=O.Hira,a(n)}}}function Bt(t){let e,a,n,r,s,i,o,l;return{c(){e=p("button"),a=p("p"),n=E(t[0]),r=S(),s=p("p"),i=E(t[1]),k(a,"class","japanese svelte-58djdn"),k(s,"class","svelte-58djdn"),k(e,"class","letter svelte-58djdn")},m(c,u){j(c,e,u),d(e,a),d(a,n),d(e,r),d(e,s),d(s,i),o||(l=D(e,"click",t[2]),o=!0)},p(c,[u]){u&1&&N(n,c[0]),u&2&&N(i,c[1])},i:w,o:w,d(c){c&&b(e),o=!1,l()}}}function Dt(t,e,a){let{japanese:n}=e,{romaji:r}=e;function s(){console.log("japanese is ",n," and romaji is ",r)}return t.$$set=i=>{"japanese"in i&&a(0,n=i.japanese),"romaji"in i&&a(1,r=i.romaji)},[n,r,s]}class Gt extends K{constructor(e){super(),q(this,e,Dt,Bt,L,{japanese:0,romaji:1})}}function Le(t,e,a){const n=t.slice();return n[4]=e[a].romaji,n[5]=e[a].hiragana,n[6]=e[a].katakana,n}const Qt=t=>({}),Re=t=>({});function Te(t){let e,a;return e=new Gt({props:{japanese:t[1]===O.Hira?t[5]:t[6],romaji:t[4]}}),{c(){T(e.$$.fragment)},m(n,r){M(e,n,r),a=!0},p(n,r){const s={};r&3&&(s.japanese=n[1]===O.Hira?n[5]:n[6]),r&1&&(s.romaji=n[4]),e.$set(s)},i(n){a||(_(e.$$.fragment,n),a=!0)},o(n){v(e.$$.fragment,n),a=!1},d(n){C(e,n)}}}function Xt(t){let e,a,n,r;const s=t[3].header,i=he(s,t,t[2],Re);let o=t[0],l=[];for(let u=0;u<o.length;u+=1)l[u]=Te(Le(t,o,u));const c=u=>v(l[u],1,1,()=>{l[u]=null});return{c(){e=p("div"),i&&i.c(),a=S(),n=p("div");for(let u=0;u<l.length;u+=1)l[u].c();k(n,"class","grid svelte-19swv05"),k(e,"class","subset svelte-19swv05")},m(u,m){j(u,e,m),i&&i.m(e,null),d(e,a),d(e,n);for(let f=0;f<l.length;f+=1)l[f].m(n,null);r=!0},p(u,[m]){if(i&&i.p&&(!r||m&4)&&de(i,s,u,u[2],r?me(s,u[2],m,Qt):ge(u[2]),Re),m&3){o=u[0];let f;for(f=0;f<o.length;f+=1){const g=Le(u,o,f);l[f]?(l[f].p(g,m),_(l[f],1)):(l[f]=Te(g),l[f].c(),_(l[f],1),l[f].m(n,null))}for(ke(),f=o.length;f<l.length;f+=1)c(f);_e()}},i(u){if(!r){_(i,u);for(let m=0;m<o.length;m+=1)_(l[m]);r=!0}},o(u){v(i,u),l=l.filter(Boolean);for(let m=0;m<l.length;m+=1)v(l[m]);r=!1},d(u){u&&b(e),i&&i.d(u),We(l,u)}}}function Zt(t,e,a){let n;Ie(t,ve,o=>a(1,n=o));let{$$slots:r={},$$scope:s}=e,{letters:i}=e;return t.$$set=o=>{"letters"in o&&a(0,i=o.letters),"$$scope"in o&&a(2,s=o.$$scope)},[i,n,s,r]}class Jt extends K{constructor(e){super(),q(this,e,Zt,Xt,L,{letters:0})}}function Ut(t){let e,a,n,r,s;return{c(){e=p("p"),a=p("span"),n=E("* "),r=E(t[0]),s=E(" *"),k(a,"class","svelte-rtoy8f"),k(e,"class","name svelte-rtoy8f")},m(i,o){j(i,e,o),d(e,a),d(a,n),d(a,r),d(a,s)},p(i,[o]){o&1&&N(r,i[0])},i:w,o:w,d(i){i&&b(e)}}}function Vt(t,e,a){let{name:n}=e;return t.$$set=r=>{"name"in r&&a(0,n=r.name)},[n]}class ea extends K{constructor(e){super(),q(this,e,Vt,Ut,L,{name:0})}}function qe(t,e,a){const n=t.slice();return n[3]=e[a].name,n[4]=e[a].letters,n}function ta(t){let e,a,n,r;return a=new ea({props:{name:t[3]}}),{c(){e=p("div"),T(a.$$.fragment),n=S(),k(e,"slot","header")},m(s,i){j(s,e,i),M(a,e,null),d(e,n),r=!0},p:w,i(s){r||(_(a.$$.fragment,s),r=!0)},o(s){v(a.$$.fragment,s),r=!1},d(s){s&&b(e),C(a)}}}function Ke(t){let e,a;return e=new Jt({props:{letters:t[4],$$slots:{header:[ta]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},m(n,r){M(e,n,r),a=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){a||(_(e.$$.fragment,n),a=!0)},o(n){v(e.$$.fragment,n),a=!1},d(n){C(e,n)}}}function aa(t){let e,a,n,r=t[0]===O.Hira?"Katakana":"Hiragana",s,i,o,l,c=t[1].subsets,u=[];for(let f=0;f<c.length;f+=1)u[f]=Ke(qe(t,c,f));const m=f=>v(u[f],1,1,()=>{u[f]=null});return{c(){e=p("div");for(let f=0;f<u.length;f+=1)u[f].c();a=S(),n=p("button"),s=E(r),k(e,"class","container svelte-t1ycgn"),k(n,"class","switch svelte-t1ycgn")},m(f,g){j(f,e,g);for(let h=0;h<u.length;h+=1)u[h].m(e,null);j(f,a,g),j(f,n,g),d(n,s),i=!0,o||(l=D(n,"click",ve.changeType),o=!0)},p(f,[g]){if(g&2){c=f[1].subsets;let h;for(h=0;h<c.length;h+=1){const H=qe(f,c,h);u[h]?(u[h].p(H,g),_(u[h],1)):(u[h]=Ke(H),u[h].c(),_(u[h],1),u[h].m(e,null))}for(ke(),h=c.length;h<u.length;h+=1)m(h);_e()}(!i||g&1)&&r!==(r=f[0]===O.Hira?"Katakana":"Hiragana")&&N(s,r)},i(f){if(!i){for(let g=0;g<c.length;g+=1)_(u[g]);i=!0}},o(f){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)v(u[g]);i=!1},d(f){f&&b(e),We(u,f),f&&b(a),f&&b(n),o=!1,l()}}}function na(t,e,a){let n;Ie(t,ve,i=>a(0,n=i));const r=new Ue;let s=Ht.createKana(r);return[n,s]}class ra extends K{constructor(e){super(),q(this,e,na,aa,L,{})}}const ia=t=>({}),ze=t=>({});function sa(t){let e,a,n,r,s;const i=t[2].sign,o=he(i,t,t[1],ze);return{c(){e=p("div"),o&&o.c(),a=S(),n=p("div"),r=E(t[0]),k(n,"class","count svelte-196hb4e"),k(e,"class","panel svelte-196hb4e")},m(l,c){j(l,e,c),o&&o.m(e,null),d(e,a),d(e,n),d(n,r),s=!0},p(l,[c]){o&&o.p&&(!s||c&2)&&de(o,i,l,l[1],s?me(i,l[1],c,ia):ge(l[1]),ze),(!s||c&1)&&N(r,l[0])},i(l){s||(_(o,l),s=!0)},o(l){v(o,l),s=!1},d(l){l&&b(e),o&&o.d(l)}}}function oa(t,e,a){let{$$slots:n={},$$scope:r}=e,{score:s=0}=e;return t.$$set=i=>{"score"in i&&a(0,s=i.score),"$$scope"in i&&a(1,r=i.$$scope)},[s,r,n]}class la extends K{constructor(e){super(),q(this,e,oa,sa,L,{score:0})}}function ca(t){let e;return{c(){e=p("div"),e.textContent="+",X(e,"color","green")},m(a,n){j(a,e,n)},d(a){a&&b(e)}}}function ua(t){let e;return{c(){e=p("div"),e.textContent="X",X(e,"color","red")},m(a,n){j(a,e,n)},d(a){a&&b(e)}}}function fa(t){let e;return{c(){e=p("div"),e.textContent="?",X(e,"color","grey")},m(a,n){j(a,e,n)},d(a){a&&b(e)}}}function ha(t){let e,a,n;function r(o,l){if(l&1&&(a=null),l&1&&(n=null),o[0]==0)return fa;if(a==null&&(a=o[3][o[0]-1].score()==0),a)return ua;if(n==null&&(n=o[3][o[0]-1].score()==1),n)return ca}let s=r(t,-1),i=s&&s(t);return{c(){e=p("div"),i&&i.c(),k(e,"slot","sign")},m(o,l){j(o,e,l),i&&i.m(e,null)},p(o,l){s!==(s=r(o,l))&&(i&&i.d(1),i=s&&s(o),i&&(i.c(),i.m(e,null)))},d(o){o&&b(e),i&&i.d()}}}function ma(t){let e,a,n,r=t[2].assignement+"",s,i,o,l,c,u,m,f=t[2].hint+"",g,h,H,A,$e,P,I,re,we;return l=new la({props:{score:t[1],$$slots:{sign:[ha]},$$scope:{ctx:t}}}),{c(){e=p("div"),a=p("div"),n=p("p"),s=E(r),i=S(),o=p("div"),T(l.$$.fragment),c=S(),u=p("div"),m=p("div"),g=E(f),h=S(),H=p("div"),A=p("input"),$e=S(),P=p("button"),P.textContent="Check if valid",k(n,"class"," svelte-aktgbn"),k(a,"class","card assignment svelte-aktgbn"),k(o,"class","card score svelte-aktgbn"),k(m,"class","center svelte-aktgbn"),k(u,"class","card hint svelte-aktgbn"),X(u,"border","1px solid transparent"),k(A,"class","card svelte-aktgbn"),k(A,"type","text"),k(A,"placeholder","translation"),k(P,"class","svelte-aktgbn"),k(H,"class","answer svelte-aktgbn"),X(H,"border","1px solid transparent"),k(e,"class","layout svelte-aktgbn")},m($,R){j($,e,R),d(e,a),d(a,n),d(n,s),d(e,i),d(e,o),M(l,o,null),d(e,c),d(e,u),d(u,m),d(m,g),d(e,h),d(e,H),d(H,A),xe(A,t[2].answer.given),d(H,$e),d(H,P),I=!0,re||(we=[D(A,"input",t[6]),D(A,"keydown",t[5]),D(P,"click",t[4])],re=!0)},p($,[R]){(!I||R&4)&&r!==(r=$[2].assignement+"")&&N(s,r);const ie={};R&2&&(ie.score=$[1]),R&513&&(ie.$$scope={dirty:R,ctx:$}),l.$set(ie),(!I||R&4)&&f!==(f=$[2].hint+"")&&N(g,f),R&4&&A.value!==$[2].answer.given&&xe(A,$[2].answer.given)},i($){I||(_(l.$$.fragment,$),I=!0)},o($){v(l.$$.fragment,$),I=!1},d($){$&&b(e),C(l),re=!1,W(we)}}}function da(t,e,a){let n,r,i=new Yt().generateLesson(),o=0,l=0;function c(){a(1,l=i.reduce((f,g)=>f+g.score(),0)),r&&a(0,o++,o)}function u(f){f.key=="Enter"&&c()}function m(){n.answer.given=this.value,a(2,n),a(3,i),a(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&a(2,n=i[o]),t.$$.dirty&1&&(r=o+1<i.length)},[o,l,n,i,c,u,m]}class ga extends K{constructor(e){super(),q(this,e,da,ma,L,{})}}function pa(t){let e,a;return e=new ra({}),{c(){T(e.$$.fragment)},m(n,r){M(e,n,r),a=!0},i(n){a||(_(e.$$.fragment,n),a=!0)},o(n){v(e.$$.fragment,n),a=!1},d(n){C(e,n)}}}function ka(t){let e,a;return e=new ga({}),{c(){T(e.$$.fragment)},m(n,r){M(e,n,r),a=!0},i(n){a||(_(e.$$.fragment,n),a=!0)},o(n){v(e.$$.fragment,n),a=!1},d(n){C(e,n)}}}function _a(t){let e,a,n,r,s,i,o;return r=new Ce({props:{path:"/japalearn/",$$slots:{default:[pa]},$$scope:{ctx:t}}}),i=new Ce({props:{path:"/japalearn/exercise",$$slots:{default:[ka]},$$scope:{ctx:t}}}),{c(){e=p("header"),e.innerHTML=`<nav class="svelte-1rsp3qx"><a href="/japalearn/" class="svelte-1rsp3qx">Grille</a> 
    <a href="/japalearn/exercise" class="svelte-1rsp3qx">Exercice</a></nav>`,a=S(),n=p("main"),T(r.$$.fragment),s=S(),T(i.$$.fragment),k(e,"class","svelte-1rsp3qx")},m(l,c){j(l,e,c),j(l,a,c),j(l,n,c),M(r,n,null),d(n,s),M(i,n,null),o=!0},p(l,[c]){const u={};c&1&&(u.$$scope={dirty:c,ctx:l}),r.$set(u);const m={};c&1&&(m.$$scope={dirty:c,ctx:l}),i.$set(m)},i(l){o||(_(r.$$.fragment,l),_(i.$$.fragment,l),o=!0)},o(l){v(r.$$.fragment,l),v(i.$$.fragment,l),o=!1},d(l){l&&b(e),l&&b(a),l&&b(n),C(r),C(i)}}}class ba extends K{constructor(e){super(),q(this,e,null,_a,L,{})}}new ba({target:document.getElementById("app")});
