var at=Object.defineProperty;var nt=(t,e,a)=>e in t?at(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var $=(t,e,a)=>(nt(t,typeof e!="symbol"?e+"":e,a),a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();function v(){}function rt(t,e){for(const a in e)t[a]=e[a];return t}function Ye(t){return t()}function $e(){return Object.create(null)}function P(t){t.forEach(Ye)}function me(t){return typeof t=="function"}function M(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function st(t){return Object.keys(t).length===0}function it(t,...e){if(t==null)return v;const a=t.subscribe(...e);return a.unsubscribe?()=>a.unsubscribe():a}function De(t,e,a){t.$$.on_destroy.push(it(e,a))}function de(t,e,a,n){if(t){const r=Pe(t,e,a,n);return t[0](r)}}function Pe(t,e,a,n){return t[1]&&n?rt(a.ctx.slice(),t[1](n(e))):a.ctx}function he(t,e,a,n){if(t[2]&&n){const r=t[2](n(a));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],i=Math.max(e.dirty.length,r.length);for(let o=0;o<i;o+=1)s[o]=e.dirty[o]|r[o];return s}return e.dirty|r}return e.dirty}function ge(t,e,a,n,r,s){if(r){const i=Pe(e,a,n,s);t.p(i,r)}}function be(t){if(t.ctx.length>32){const e=[],a=t.ctx.length/32;for(let n=0;n<a;n++)e[n]=-1;return e}return-1}function b(t,e){t.appendChild(e)}function _(t,e,a){t.insertBefore(e,a||null)}function k(t){t.parentNode.removeChild(t)}function We(t,e){for(let a=0;a<t.length;a+=1)t[a]&&t[a].d(e)}function y(t){return document.createElement(t)}function xe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function E(){return x(" ")}function ot(){return x("")}function B(t,e,a,n){return t.addEventListener(e,a,n),()=>t.removeEventListener(e,a,n)}function h(t,e,a){a==null?t.removeAttribute(e):t.getAttribute(e)!==a&&t.setAttribute(e,a)}function lt(t){return Array.from(t.childNodes)}function N(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ee(t,e){t.value=e==null?"":e}function T(t,e,a,n){a===null?t.style.removeProperty(e):t.style.setProperty(e,a,n?"important":"")}function Se(t,e,a){t.classList[a?"add":"remove"](e)}let X;function G(t){X=t}function Z(){if(!X)throw new Error("Function called outside component initialization");return X}function Be(t){Z().$$.on_mount.push(t)}function ct(t){Z().$$.on_destroy.push(t)}function ut(t,e){return Z().$$.context.set(t,e),e}function ye(t){return Z().$$.context.get(t)}function ft(t){return Z().$$.context.has(t)}const W=[],He=[],V=[],Ae=[],Ge=Promise.resolve();let le=!1;function Je(){le||(le=!0,Ge.then(Qe))}function mt(){return Je(),Ge}function ce(t){V.push(t)}const ie=new Set;let U=0;function Qe(){const t=X;do{for(;U<W.length;){const e=W[U];U++,G(e),dt(e.$$)}for(G(null),W.length=0,U=0;He.length;)He.pop()();for(let e=0;e<V.length;e+=1){const a=V[e];ie.has(a)||(ie.add(a),a())}V.length=0}while(W.length);for(;Ae.length;)Ae.pop()();le=!1,ie.clear(),G(t)}function dt(t){if(t.fragment!==null){t.update(),P(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ce)}}const ee=new Set;let F;function pe(){F={r:0,c:[],p:F}}function ke(){F.r||P(F.c),F=F.p}function p(t,e){t&&t.i&&(ee.delete(t),t.i(e))}function j(t,e,a,n){if(t&&t.o){if(ee.has(t))return;ee.add(t),F.c.push(()=>{ee.delete(t),n&&(a&&t.d(1),n())}),t.o(e)}else n&&n()}function z(t){t&&t.c()}function A(t,e,a,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,a),n||ce(()=>{const i=t.$$.on_mount.map(Ye).filter(me);t.$$.on_destroy?t.$$.on_destroy.push(...i):P(i),t.$$.on_mount=[]}),s.forEach(ce)}function O(t,e){const a=t.$$;a.fragment!==null&&(P(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function ht(t,e){t.$$.dirty[0]===-1&&(W.push(t),Je(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function C(t,e,a,n,r,s,i,o=[-1]){const l=X;G(t);const c=t.$$={fragment:null,ctx:[],props:s,update:v,not_equal:r,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:$e(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};i&&i(c.root);let u=!1;if(c.ctx=a?a(t,e.props||{},(m,f,...g)=>{const d=g.length?g[0]:f;return c.ctx&&r(c.ctx[m],c.ctx[m]=d)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](d),u&&ht(t,m)),f}):[],c.update(),u=!0,P(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const m=lt(e.target);c.fragment&&c.fragment.l(m),m.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&p(t.$$.fragment),A(t,e.target,e.anchor,e.customElement),Qe()}G(l)}class L{$destroy(){O(this,1),this.$destroy=v}$on(e,a){if(!me(a))return v;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(a),()=>{const r=n.indexOf(a);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!st(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const D=[];function _e(t,e=v){let a;const n=new Set;function r(o){if(M(t,o)&&(t=o,a)){const l=!D.length;for(const c of n)c[1](),D.push(c,t);if(l){for(let c=0;c<D.length;c+=2)D[c][0](D[c+1]);D.length=0}}}function s(o){r(o(t))}function i(o,l=v){const c=[o,l];return n.add(c),n.size===1&&(a=e(r)||v),o(t),()=>{n.delete(c),n.size===0&&(a(),a=null)}}return{set:r,update:s,subscribe:i}}function ue(t,e=!1){return t=t.slice(t.startsWith("/#")?2:0,t.endsWith("/*")?-2:void 0),t.startsWith("/")||(t="/"+t),t==="/"&&(t=""),e&&!t.endsWith("/")&&(t+="/"),t}function gt(t,e){t=ue(t,!0),e=ue(e,!0);let a=[],n={},r=!0,s=t.split("/").map(o=>o.startsWith(":")?(a.push(o.slice(1)),"([^\\/]+)"):o).join("\\/"),i=e.match(new RegExp(`^${s}$`));return i||(r=!1,i=e.match(new RegExp(`^${s}`))),i?(a.forEach((o,l)=>n[o]=i[l+1]),{exact:r,params:n,part:i[0].slice(0,-1)}):null}function Xe(t,e,a){if(a==="")return t;if(a[0]==="/")return a;let n=i=>i.split("/").filter(o=>o!==""),r=n(t),s=e?n(e):[];return"/"+s.map((i,o)=>r[o]).join("/")+"/"+a}function Oe(t,e,a,n){let r=[e,"data-"+e].reduce((s,i)=>{let o=t.getAttribute(i);return a&&t.removeAttribute(i),o===null?s:o},!1);return!n&&r===""?!0:r||n||!1}function bt(t){let e=t.split("&").map(a=>a.split("=")).reduce((a,n)=>{let r=n[0];if(!r)return a;let s=n.length>1?n[n.length-1]:!0;return typeof s=="string"&&s.includes(",")&&(s=s.split(",")),a[r]===void 0?a[r]=[s]:a[r].push(s),a},{});return Object.entries(e).reduce((a,n)=>(a[n[0]]=n[1].length>1?n[1]:n[1][0],a),{})}function yt(t){return Object.entries(t).map(([e,a])=>a?a===!0?e:`${e}=${Array.isArray(a)?a.join(","):a}`:null).filter(e=>e).join("&")}function Me(t,e){return t?e+t:""}function Ze(t){throw new Error("[Tinro] "+t)}var H={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(t,e,a,n){return t===this.HISTORY?e&&e():t===this.HASH?a&&a():n&&n()},getDefault(){return!window||window.location.pathname==="srcdoc"?this.MEMORY:this.HISTORY}},je,Ue,Ve,te="",S=pt();function pt(){let t=H.getDefault(),e,a=i=>window.onhashchange=window.onpopstate=je=null,n=i=>e&&e(oe(t)),r=i=>{i&&(t=i),a(),t!==H.OFF&&H.run(t,o=>window.onpopstate=n,o=>window.onhashchange=n)&&n()},s=i=>{let o=Object.assign(oe(t),i);return o.path+Me(yt(o.query),"?")+Me(o.hash,"#")};return{mode:r,get:i=>oe(t),go(i,o){kt(t,i,o),n()},start(i){e=i,r()},stop(){e=null,r(H.OFF)},set(i){this.go(s(i),!i.path)},methods(){return _t(this)},base:i=>te=i}}function kt(t,e,a){!a&&(Ue=Ve);let n=r=>history[`${a?"replace":"push"}State`]({},"",r);H.run(t,r=>n(te+e),r=>n(`#${e}`),r=>je=e)}function oe(t){let e=window.location,a=H.run(t,r=>(te?e.pathname.replace(te,""):e.pathname)+e.search+e.hash,r=>String(e.hash.slice(1)||"/"),r=>je||"/"),n=a.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return Ve=a,{url:a,from:Ue,path:n[1]||"",query:bt(n[2]||""),hash:n[3]||""}}function _t(t){let e=()=>t.get().query,a=i=>t.set({query:i}),n=i=>a(i(e())),r=()=>t.get().hash,s=i=>t.set({hash:i});return{hash:{get:r,set:s,clear:()=>s("")},query:{replace:a,clear:()=>a(""),get(i){return i?e()[i]:e()},set(i,o){n(l=>(l[i]=o,l))},delete(i){n(o=>(o[i]&&delete o[i],o))}}}}var fe=jt();function jt(){let{subscribe:t}=_e(S.get(),e=>{S.start(e);let a=wt(S.go);return()=>{S.stop(),a()}});return{subscribe:t,goto:S.go,params:vt,meta:Et,useHashNavigation:e=>S.mode(e?H.HASH:H.HISTORY),mode:{hash:()=>S.mode(H.HASH),history:()=>S.mode(H.HISTORY),memory:()=>S.mode(H.MEMORY)},base:S.base,location:S.methods()}}function wt(t){let e=a=>{let n=a.target.closest("a[href]"),r=n&&Oe(n,"target",!1,"_self"),s=n&&Oe(n,"tinro-ignore"),i=a.ctrlKey||a.metaKey||a.altKey||a.shiftKey;if(r=="_self"&&!s&&!i&&n){let o=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(o)||(a.preventDefault(),t(o.startsWith("/")?o:n.href.replace(window.location.origin,"")))}};return addEventListener("click",e),()=>removeEventListener("click",e)}function vt(){return ye("tinro").meta.params}var ae="tinro",$t=et({pattern:"",matched:!0});function xt(t){let e=ye(ae)||$t;(e.exact||e.fallback)&&Ze(`${t.fallback?"<Route fallback>":`<Route path="${t.path}">`}  can't be inside ${e.fallback?"<Route fallback>":`<Route path="${e.path||"/"}"> with exact path`}`);let a=t.fallback?"fallbacks":"childs",n=_e({}),r=et({fallback:t.fallback,parent:e,update(s){r.exact=!s.path.endsWith("/*"),r.pattern=ue(`${r.parent.pattern||""}${s.path}`),r.redirect=s.redirect,r.firstmatch=s.firstmatch,r.breadcrumb=s.breadcrumb,r.match()},register:()=>(r.parent[a].add(r),async()=>{r.parent[a].delete(r),r.parent.activeChilds.delete(r),r.router.un&&r.router.un(),r.parent.match()}),show:()=>{t.onShow(),!r.fallback&&r.parent.activeChilds.add(r)},hide:()=>{t.onHide(),r.parent.activeChilds.delete(r)},match:async()=>{r.matched=!1;let{path:s,url:i,from:o,query:l}=r.router.location,c=gt(r.pattern,s);if(!r.fallback&&c&&r.redirect&&(!r.exact||r.exact&&c.exact)){let u=Xe(s,r.parent.pattern,r.redirect);return fe.goto(u,!0)}r.meta=c&&{from:o,url:i,query:l,match:c.part,pattern:r.pattern,breadcrumbs:r.parent.meta&&r.parent.meta.breadcrumbs.slice()||[],params:c.params,subscribe:n.subscribe},r.breadcrumb&&r.meta&&r.meta.breadcrumbs.push({name:r.breadcrumb,path:c.part}),n.set(r.meta),c&&!r.fallback&&(!r.exact||r.exact&&c.exact)&&(!r.parent.firstmatch||!r.parent.matched)?(t.onMeta(r.meta),r.parent.matched=!0,r.show()):r.hide(),c&&r.showFallbacks()}});return ut(ae,r),Be(()=>r.register()),r}function Et(){return ft(ae)?ye(ae).meta:Ze("meta() function must be run inside any `<Route>` child component only")}function et(t){let e={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await mt(),this.childs.size>0&&this.activeChilds.size==0||this.childs.size==0&&this.fallbacks.size>0)){let a=this;for(;a.fallbacks.size==0;)if(a=a.parent,!a)return;a&&a.fallbacks.forEach(n=>{if(n.redirect){let r=Xe("/",n.parent.pattern,n.redirect);fe.goto(r,!0)}else n.show()})}},start(){this.router.un||(this.router.un=fe.subscribe(a=>{this.router.location=a,this.pattern!==null&&this.match()}))},match(){this.showFallbacks()}};return Object.assign(e,t),e.start(),e}const St=t=>({params:t&2,meta:t&4}),ze=t=>({params:t[1],meta:t[2]});function Ce(t){let e;const a=t[9].default,n=de(a,t,t[8],ze);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&262)&&ge(n,a,r,r[8],e?he(a,r[8],s,St):be(r[8]),ze)},i(r){e||(p(n,r),e=!0)},o(r){j(n,r),e=!1},d(r){n&&n.d(r)}}}function Ht(t){let e,a,n=t[0]&&Ce(t);return{c(){n&&n.c(),e=ot()},m(r,s){n&&n.m(r,s),_(r,e,s),a=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&p(n,1)):(n=Ce(r),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(pe(),j(n,1,1,()=>{n=null}),ke())},i(r){a||(p(n),a=!0)},o(r){j(n),a=!1},d(r){n&&n.d(r),r&&k(e)}}}function At(t,e,a){let{$$slots:n={},$$scope:r}=e,{path:s="/*"}=e,{fallback:i=!1}=e,{redirect:o=!1}=e,{firstmatch:l=!1}=e,{breadcrumb:c=null}=e,u=!1,m={},f={};const g=xt({fallback:i,onShow(){a(0,u=!0)},onHide(){a(0,u=!1)},onMeta(d){a(2,f=d),a(1,m=f.params)}});return t.$$set=d=>{"path"in d&&a(3,s=d.path),"fallback"in d&&a(4,i=d.fallback),"redirect"in d&&a(5,o=d.redirect),"firstmatch"in d&&a(6,l=d.firstmatch),"breadcrumb"in d&&a(7,c=d.breadcrumb),"$$scope"in d&&a(8,r=d.$$scope)},t.$$.update=()=>{t.$$.dirty&232&&g.update({path:s,redirect:o,firstmatch:l,breadcrumb:c})},[u,m,f,s,i,o,l,c,r,n]}class Le extends L{constructor(e){super(),C(this,e,At,Ht,M,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}class Ot{constructor(){$(this,"subsets")}}var R=(t=>(t[t.Kata=0]="Kata",t[t.Hira=1]="Hira",t))(R||{});class Mt{static createKana(e){let a=new Ot;return a.subsets=[e.common(),e.extended(),e.dakuon(),e.handakuon()],a}}class Te{constructor({ID:e,stat:a}){$(this,"ID");$(this,"stat");this.ID=e,this.stat=a}score(){return this.stat.guessed/this.stat.encounter*100}encountered(e){this.stat.encounter++,e&&this.stat.guessed++}}class zt{constructor(){$(this,"ID");$(this,"assignement");$(this,"hint");$(this,"answer")}checkAnswer(){return this.answer.given.toLowerCase()===this.answer.expected.toLowerCase()}score(){return this.checkAnswer()?1:0}}const Ct="Common Kana",Lt=[{romaji:"a",hiragana:{id:0,symbol:"\u3042"},katakana:{id:1,symbol:"\u30A2"}},{romaji:"i",hiragana:{id:2,symbol:"\u3044"},katakana:{id:3,symbol:"\u30A4"}},{romaji:"u",hiragana:{id:4,symbol:"\u3046"},katakana:{id:5,symbol:"\u30A6"}},{romaji:"e",hiragana:{id:6,symbol:"\u3048"},katakana:{id:7,symbol:"\u30A8"}},{romaji:"o",hiragana:{id:8,symbol:"\u304A"},katakana:{id:9,symbol:"\u30AA"}},{romaji:"ka",hiragana:{id:10,symbol:"\u304B"},katakana:{id:11,symbol:"\u30AB"}},{romaji:"ki",hiragana:{id:12,symbol:"\u304D"},katakana:{id:13,symbol:"\u30AD"}},{romaji:"ku",hiragana:{id:14,symbol:"\u304F"},katakana:{id:15,symbol:"\u30AF"}},{romaji:"ke",hiragana:{id:16,symbol:"\u3051"},katakana:{id:17,symbol:"\u30B1"}},{romaji:"ko",hiragana:{id:18,symbol:"\u3053"},katakana:{id:19,symbol:"\u30B3"}},{romaji:"sa",hiragana:{id:20,symbol:"\u3055"},katakana:{id:21,symbol:"\u30B5"}},{romaji:"shi",hiragana:{id:22,symbol:"\u3057"},katakana:{id:23,symbol:"\u30B7"}},{romaji:"su",hiragana:{id:24,symbol:"\u3059"},katakana:{id:25,symbol:"\u30B9"}},{romaji:"se",hiragana:{id:26,symbol:"\u305B"},katakana:{id:27,symbol:"\u30BB"}},{romaji:"so",hiragana:{id:28,symbol:"\u305D"},katakana:{id:29,symbol:"\u30BD"}},{romaji:"ta",hiragana:{id:30,symbol:"\u305F"},katakana:{id:31,symbol:"\u30BF"}},{romaji:"chi",hiragana:{id:32,symbol:"\u3061"},katakana:{id:33,symbol:"\u30C1"}},{romaji:"tsu",hiragana:{id:34,symbol:"\u3064"},katakana:{id:35,symbol:"\u30C4"}},{romaji:"te",hiragana:{id:36,symbol:"\u3066"},katakana:{id:37,symbol:"\u30C6"}},{romaji:"to",hiragana:{id:38,symbol:"\u3068"},katakana:{id:39,symbol:"\u30C8"}},{romaji:"na",hiragana:{id:40,symbol:"\u306A"},katakana:{id:41,symbol:"\u30CA"}},{romaji:"ni",hiragana:{id:42,symbol:"\u306B"},katakana:{id:43,symbol:"\u30CB"}},{romaji:"nu",hiragana:{id:44,symbol:"\u306C"},katakana:{id:45,symbol:"\u30CC"}},{romaji:"ne",hiragana:{id:46,symbol:"\u306D"},katakana:{id:47,symbol:"\u30CD"}},{romaji:"no",hiragana:{id:48,symbol:"\u306E"},katakana:{id:49,symbol:"\u30CE"}},{romaji:"ha",hiragana:{id:50,symbol:"\u306F"},katakana:{id:51,symbol:"\u30CF"}},{romaji:"hi",hiragana:{id:52,symbol:"\u3072"},katakana:{id:53,symbol:"\u30D2"}},{romaji:"fu",hiragana:{id:54,symbol:"\u3075"},katakana:{id:55,symbol:"\u30D5"}},{romaji:"he",hiragana:{id:56,symbol:"\u3078"},katakana:{id:57,symbol:"\u30D8"}},{romaji:"ho",hiragana:{id:58,symbol:"\u307B"},katakana:{id:59,symbol:"\u30DB"}},{romaji:"ma",hiragana:{id:60,symbol:"\u307E"},katakana:{id:61,symbol:"\u30DE"}},{romaji:"mi",hiragana:{id:62,symbol:"\u307F"},katakana:{id:63,symbol:"\u30DF"}},{romaji:"mu",hiragana:{id:64,symbol:"\u3080"},katakana:{id:65,symbol:"\u30E0"}},{romaji:"me",hiragana:{id:66,symbol:"\u3081"},katakana:{id:67,symbol:"\u30E1"}},{romaji:"mo",hiragana:{id:68,symbol:"\u3082"},katakana:{id:69,symbol:"\u30E2"}},{romaji:"ra",hiragana:{id:70,symbol:"\u3089"},katakana:{id:71,symbol:"\u30E9"}},{romaji:"ri",hiragana:{id:72,symbol:"\u308A"},katakana:{id:73,symbol:"\u30EA"}},{romaji:"ru",hiragana:{id:74,symbol:"\u308B"},katakana:{id:75,symbol:"\u30EB"}},{romaji:"re",hiragana:{id:76,symbol:"\u308C"},katakana:{id:77,symbol:"\u30EC"}},{romaji:"ro",hiragana:{id:78,symbol:"\u308D"},katakana:{id:79,symbol:"\u30ED"}}],Tt={name:Ct,letters:Lt},It="Other Kana",Kt=[{romaji:"ya",hiragana:{id:120,symbol:"\u3084"},katakana:{id:121,symbol:"\u30E4"}},{romaji:"yu",hiragana:{id:122,symbol:"\u3086"},katakana:{id:123,symbol:"\u30E6"}},{romaji:"yo",hiragana:{id:124,symbol:"\u3088"},katakana:{id:125,symbol:"\u30E8"}},{romaji:"wa",hiragana:{id:126,symbol:"\u308F"},katakana:{id:127,symbol:"\u30EF"}},{romaji:"n",hiragana:{id:128,symbol:"\u3093"},katakana:{id:129,symbol:"\u30F3"}}],Rt={name:It,letters:Kt},qt="Dakuon",Ft=[{romaji:"ga",hiragana:{id:80,symbol:"\u304C"},katakana:{id:81,symbol:"\u30AC"}},{romaji:"gi",hiragana:{id:82,symbol:"\u304E"},katakana:{id:83,symbol:"\u30AE"}},{romaji:"gu",hiragana:{id:84,symbol:"\u3050"},katakana:{id:85,symbol:"\u30B0"}},{romaji:"ge",hiragana:{id:86,symbol:"\u3052"},katakana:{id:87,symbol:"\u30B2"}},{romaji:"go",hiragana:{id:88,symbol:"\u3054"},katakana:{id:89,symbol:"\u30B4"}},{romaji:"za",hiragana:{id:90,symbol:"\u3056"},katakana:{id:91,symbol:"\u30B6"}},{romaji:"ji",hiragana:{id:92,symbol:"\u3058"},katakana:{id:93,symbol:"\u30B8"}},{romaji:"zu",hiragana:{id:94,symbol:"\u305A"},katakana:{id:95,symbol:"\u30BA"}},{romaji:"ze",hiragana:{id:96,symbol:"\u305C"},katakana:{id:97,symbol:"\u30BC"}},{romaji:"zo",hiragana:{id:98,symbol:"\u305E"},katakana:{id:99,symbol:"\u30BE"}},{romaji:"da",hiragana:{id:100,symbol:"\u3060"},katakana:{id:101,symbol:"\u30C0"}},{romaji:"ji",hiragana:{id:102,symbol:"\u3062"},katakana:{id:103,symbol:"\u30C2"}},{romaji:"zu",hiragana:{id:104,symbol:"\u3065"},katakana:{id:105,symbol:"\u30C5"}},{romaji:"de",hiragana:{id:106,symbol:"\u3067"},katakana:{id:107,symbol:"\u30C7"}},{romaji:"do",hiragana:{id:108,symbol:"\u3069"},katakana:{id:109,symbol:"\u30C9"}},{romaji:"ba",hiragana:{id:110,symbol:"\u3070"},katakana:{id:111,symbol:"\u30D0"}},{romaji:"bi",hiragana:{id:112,symbol:"\u3073"},katakana:{id:113,symbol:"\u30D3"}},{romaji:"bu",hiragana:{id:114,symbol:"\u3076"},katakana:{id:115,symbol:"\u30D6"}},{romaji:"be",hiragana:{id:116,symbol:"\u3079"},katakana:{id:117,symbol:"\u30D9"}},{romaji:"bo",hiragana:{id:118,symbol:"\u307C"},katakana:{id:119,symbol:"\u30DC"}}],Nt={name:qt,letters:Ft},Yt="Handakuon",Dt=[{romaji:"pa",hiragana:{id:130,symbol:"\u3071"},katakana:{id:131,symbol:"\u30D1"}},{romaji:"pi",hiragana:{id:132,symbol:"\u3074"},katakana:{id:133,symbol:"\u30D4"}},{romaji:"pu",hiragana:{id:134,symbol:"\u3077"},katakana:{id:135,symbol:"\u30D7"}},{romaji:"pe",hiragana:{id:136,symbol:"\u307A"},katakana:{id:137,symbol:"\u30DA"}},{romaji:"po",hiragana:{id:138,symbol:"\u307D"},katakana:{id:139,symbol:"\u30DD"}}],Pt={name:Yt,letters:Dt};class tt{common(){return Tt}extended(){return Rt}dakuon(){return Nt}handakuon(){return Pt}}class Wt{constructor(){$(this,"factory");this.factory=new tt}generateExercise(e,a){let n=new zt;return n.assignement=`Translate this ${e} into romaji`,n.hint=a[e].symbol,n.ID=a[e].id,n.answer={expected:a.romaji,given:""},n}generateLesson(){return[this.factory.common(),this.factory.extended(),this.factory.dakuon(),this.factory.handakuon()].flatMap(a=>J.drawLetters(a.letters,3)).map(a=>{const n=J.drawAlphabet();return this.generateExercise(n,a)})}}const ne=class{static drawAlphabet(){return ne.ExerciseType[Math.floor(Math.random()*ne.ExerciseType.length)]}static drawLetters(e,a){return a>e.length&&(a=e.length),Bt(e).slice(0,a)}};let J=ne;$(J,"ExerciseType",["katakana","hiragana"]);function Bt(t){const e=Array.from(t);for(t.length=0;e.length>0;){const a=Math.floor(Math.random()*e.length);t.push(e[a]),e.splice(a,1)}return t}const we=Gt();function Gt(){const t=R.Hira,{subscribe:e,set:a}=_e(t);let n=t;return{subscribe:e,changeType:()=>{n===R.Hira?n=R.Kata:n=R.Hira,a(n)}}}const re=class{constructor(){$(this,"masteries");const e=localStorage.getItem(re.KEY);if(e==null){this.masteries=[],this.save();return}this.masteries=JSON.parse(e),this.masteries=this.masteries.map(a=>new Te(a))}get(e){let a=this.masteries.find(n=>n.ID===e);return a===void 0&&(a=new Te({ID:e,stat:{guessed:0,encounter:0}}),this.masteries.push(a)),a}increase(e,a){const n=this.get(e);console.log(this.masteries),console.log(n),n.encountered(a),this.save()}save(){const e=JSON.stringify(this.masteries);localStorage.setItem(re.KEY,e)}};let Q=re;$(Q,"KEY","masteries");function Jt(t){let e,a,n,r;return{c(){e=xe("svg"),a=xe("circle"),h(a,"class","path stroke-green svelte-l7dx3w"),h(a,"fill","grey"),h(a,"fill-opacity","10%"),h(a,"stroke-width","3"),h(a,"cx",n=t[0]/2),h(a,"cy",r=t[0]/2),h(a,"r",t[1]),h(a,"style",t[2]),h(e,"class","circular svelte-l7dx3w"),T(e,"width",t[0]+"px"),T(e,"height",t[0]+"px")},m(s,i){_(s,e,i),b(e,a)},p(s,[i]){i&1&&n!==(n=s[0]/2)&&h(a,"cx",n),i&1&&r!==(r=s[0]/2)&&h(a,"cy",r),i&2&&h(a,"r",s[1]),i&4&&h(a,"style",s[2]),i&1&&T(e,"width",s[0]+"px"),i&1&&T(e,"height",s[0]+"px")},i:v,o:v,d(s){s&&k(e)}}}function Qt(t,e,a){let n,r,s,i,o,{progress:l=null}=e,{size:c=70}=e,u;Be(()=>{u=setTimeout(()=>{a(6,r=(100-l)/100*m(n))},1200)}),ct(()=>{clearTimeout(u)});function m(f){return f==0?0:Math.PI*(f+f)}return t.$$set=f=>{"progress"in f&&a(3,l=f.progress),"size"in f&&a(0,c=f.size)},t.$$.update=()=>{t.$$.dirty&1&&a(1,n=c/2-c/5),t.$$.dirty&2&&a(6,r=m(n)),t.$$.dirty&2&&a(4,s=`
        stroke-dasharray: ${m(n)};
        stroke-dashoffset: ${m(n)-2};
    `),t.$$.dirty&66&&a(5,i=`
        stroke-dasharray: ${m(n)};
        stroke-dashoffset: ${r};
    `),t.$$.dirty&56&&a(2,o=l>0?i:s)},[c,n,o,l,s,i,r]}class Xt extends L{constructor(e){super(),C(this,e,Qt,Jt,M,{progress:3,size:0})}}function Zt(t){let e,a,n,r,s,i,o,l,c,u,m;return l=new Xt({props:{progress:t[2],size:40}}),{c(){e=y("button"),a=y("p"),n=x(t[0]),r=E(),s=y("p"),i=x(t[1]),o=E(),z(l.$$.fragment),h(a,"class","japanese svelte-58djdn"),h(s,"class","svelte-58djdn"),h(e,"class","letter svelte-58djdn")},m(f,g){_(f,e,g),b(e,a),b(a,n),b(e,r),b(e,s),b(s,i),b(e,o),A(l,e,null),c=!0,u||(m=B(e,"click",t[3]),u=!0)},p(f,[g]){(!c||g&1)&&N(n,f[0]),(!c||g&2)&&N(i,f[1]);const d={};g&4&&(d.progress=f[2]),l.$set(d)},i(f){c||(p(l.$$.fragment,f),c=!0)},o(f){j(l.$$.fragment,f),c=!1},d(f){f&&k(e),O(l),u=!1,m()}}}function Ut(t,e,a){let{japanese:n}=e,{romaji:r}=e,{progress:s}=e;function i(){console.log("japanese is ",n," and romaji is ",r)}return t.$$set=o=>{"japanese"in o&&a(0,n=o.japanese),"romaji"in o&&a(1,r=o.romaji),"progress"in o&&a(2,s=o.progress)},[n,r,s,i]}class Vt extends L{constructor(e){super(),C(this,e,Ut,Zt,M,{japanese:0,romaji:1,progress:2})}}function Ie(t,e,a){const n=t.slice();return n[7]=e[a].romaji,n[8]=e[a].hiragana,n[9]=e[a].katakana,n}const ea=t=>({}),Ke=t=>({});function Re(t){let e,a;return e=new Vt({props:{japanese:t[1]?t[8].symbol:t[9].symbol,romaji:t[7],progress:t[1]?t[2](t[8]):t[2](t[9])}}),{c(){z(e.$$.fragment)},m(n,r){A(e,n,r),a=!0},p(n,r){const s={};r&3&&(s.japanese=n[1]?n[8].symbol:n[9].symbol),r&1&&(s.romaji=n[7]),r&3&&(s.progress=n[1]?n[2](n[8]):n[2](n[9])),e.$set(s)},i(n){a||(p(e.$$.fragment,n),a=!0)},o(n){j(e.$$.fragment,n),a=!1},d(n){O(e,n)}}}function ta(t){let e,a,n,r;const s=t[5].header,i=de(s,t,t[4],Ke);let o=t[0],l=[];for(let u=0;u<o.length;u+=1)l[u]=Re(Ie(t,o,u));const c=u=>j(l[u],1,1,()=>{l[u]=null});return{c(){e=y("div"),i&&i.c(),a=E(),n=y("div");for(let u=0;u<l.length;u+=1)l[u].c();h(n,"class","grid svelte-19swv05"),h(e,"class","subset svelte-19swv05")},m(u,m){_(u,e,m),i&&i.m(e,null),b(e,a),b(e,n);for(let f=0;f<l.length;f+=1)l[f].m(n,null);r=!0},p(u,[m]){if(i&&i.p&&(!r||m&16)&&ge(i,s,u,u[4],r?he(s,u[4],m,ea):be(u[4]),Ke),m&7){o=u[0];let f;for(f=0;f<o.length;f+=1){const g=Ie(u,o,f);l[f]?(l[f].p(g,m),p(l[f],1)):(l[f]=Re(g),l[f].c(),p(l[f],1),l[f].m(n,null))}for(pe(),f=o.length;f<l.length;f+=1)c(f);ke()}},i(u){if(!r){p(i,u);for(let m=0;m<o.length;m+=1)p(l[m]);r=!0}},o(u){j(i,u),l=l.filter(Boolean);for(let m=0;m<l.length;m+=1)j(l[m]);r=!1},d(u){u&&k(e),i&&i.d(u),We(l,u)}}}function aa(t,e,a){let n,r;De(t,we,u=>a(3,r=u));let{$$slots:s={},$$scope:i}=e,{letters:o}=e;const l=new Q;function c({id:u}){return l.get(u).score()}return t.$$set=u=>{"letters"in u&&a(0,o=u.letters),"$$scope"in u&&a(4,i=u.$$scope)},t.$$.update=()=>{t.$$.dirty&8&&a(1,n=r===R.Hira)},[o,n,c,r,i,s]}class na extends L{constructor(e){super(),C(this,e,aa,ta,M,{letters:0})}}function ra(t){let e,a,n,r,s;return{c(){e=y("p"),a=y("span"),n=x("* "),r=x(t[0]),s=x(" *"),h(a,"class","svelte-rtoy8f"),h(e,"class","name svelte-rtoy8f")},m(i,o){_(i,e,o),b(e,a),b(a,n),b(a,r),b(a,s)},p(i,[o]){o&1&&N(r,i[0])},i:v,o:v,d(i){i&&k(e)}}}function sa(t,e,a){let{name:n}=e;return t.$$set=r=>{"name"in r&&a(0,n=r.name)},[n]}class ia extends L{constructor(e){super(),C(this,e,sa,ra,M,{name:0})}}function qe(t,e,a){const n=t.slice();return n[3]=e[a].name,n[4]=e[a].letters,n}function oa(t){let e,a,n,r;return a=new ia({props:{name:t[3]}}),{c(){e=y("div"),z(a.$$.fragment),n=E(),h(e,"slot","header")},m(s,i){_(s,e,i),A(a,e,null),b(e,n),r=!0},p:v,i(s){r||(p(a.$$.fragment,s),r=!0)},o(s){j(a.$$.fragment,s),r=!1},d(s){s&&k(e),O(a)}}}function Fe(t){let e,a;return e=new na({props:{letters:t[4],$$slots:{header:[oa]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(n,r){A(e,n,r),a=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){a||(p(e.$$.fragment,n),a=!0)},o(n){j(e.$$.fragment,n),a=!1},d(n){O(e,n)}}}function la(t){let e,a,n,r=t[0]===R.Hira?"Katakana":"Hiragana",s,i,o,l,c=t[1].subsets,u=[];for(let f=0;f<c.length;f+=1)u[f]=Fe(qe(t,c,f));const m=f=>j(u[f],1,1,()=>{u[f]=null});return{c(){e=y("div");for(let f=0;f<u.length;f+=1)u[f].c();a=E(),n=y("button"),s=x(r),h(e,"class","container svelte-t1ycgn"),h(n,"class","switch svelte-t1ycgn")},m(f,g){_(f,e,g);for(let d=0;d<u.length;d+=1)u[d].m(e,null);_(f,a,g),_(f,n,g),b(n,s),i=!0,o||(l=B(n,"click",we.changeType),o=!0)},p(f,[g]){if(g&2){c=f[1].subsets;let d;for(d=0;d<c.length;d+=1){const I=qe(f,c,d);u[d]?(u[d].p(I,g),p(u[d],1)):(u[d]=Fe(I),u[d].c(),p(u[d],1),u[d].m(e,null))}for(pe(),d=c.length;d<u.length;d+=1)m(d);ke()}(!i||g&1)&&r!==(r=f[0]===R.Hira?"Katakana":"Hiragana")&&N(s,r)},i(f){if(!i){for(let g=0;g<c.length;g+=1)p(u[g]);i=!0}},o(f){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)j(u[g]);i=!1},d(f){f&&k(e),We(u,f),f&&k(a),f&&k(n),o=!1,l()}}}function ca(t,e,a){let n;De(t,we,i=>a(0,n=i));const r=new tt;let s=Mt.createKana(r);return[n,s]}class ua extends L{constructor(e){super(),C(this,e,ca,la,M,{})}}const fa=t=>({}),Ne=t=>({});function ma(t){let e,a,n,r,s;const i=t[2].sign,o=de(i,t,t[1],Ne);return{c(){e=y("div"),o&&o.c(),a=E(),n=y("div"),r=x(t[0]),h(n,"class","count svelte-196hb4e"),h(e,"class","panel svelte-196hb4e")},m(l,c){_(l,e,c),o&&o.m(e,null),b(e,a),b(e,n),b(n,r),s=!0},p(l,[c]){o&&o.p&&(!s||c&2)&&ge(o,i,l,l[1],s?he(i,l[1],c,fa):be(l[1]),Ne),(!s||c&1)&&N(r,l[0])},i(l){s||(p(o,l),s=!0)},o(l){j(o,l),s=!1},d(l){l&&k(e),o&&o.d(l)}}}function da(t,e,a){let{$$slots:n={},$$scope:r}=e,{score:s=0}=e;return t.$$set=i=>{"score"in i&&a(0,s=i.score),"$$scope"in i&&a(1,r=i.$$scope)},[s,r,n]}class ha extends L{constructor(e){super(),C(this,e,da,ma,M,{score:0})}}function ga(t){let e,a,n,r,s,i;return{c(){e=y("input"),a=E(),n=y("button"),r=x("Check if valid"),h(e,"class","card svelte-p4hbsy"),h(e,"type","text"),h(e,"placeholder","translation"),n.disabled=t[2],h(n,"class","svelte-p4hbsy"),Se(n,"disabled",t[2])},m(o,l){_(o,e,l),Ee(e,t[0].answer.given),_(o,a,l),_(o,n,l),b(n,r),s||(i=[B(e,"input",t[4]),B(e,"keydown",t[3]),B(n,"click",function(){me(t[1])&&t[1].apply(this,arguments)})],s=!0)},p(o,[l]){t=o,l&1&&e.value!==t[0].answer.given&&Ee(e,t[0].answer.given),l&4&&(n.disabled=t[2]),l&4&&Se(n,"disabled",t[2])},i:v,o:v,d(o){o&&k(e),o&&k(a),o&&k(n),s=!1,P(i)}}}function ba(t,e,a){let n,{exercise:r}=e,{nextExercise:s}=e;function i(l){l.key=="Enter"&&s()}function o(){r.answer.given=this.value,a(0,r)}return t.$$set=l=>{"exercise"in l&&a(0,r=l.exercise),"nextExercise"in l&&a(1,s=l.nextExercise)},t.$$.update=()=>{t.$$.dirty&1&&a(2,n=r.answer.given==="")},[r,s,n,i,o]}class ya extends L{constructor(e){super(),C(this,e,ba,ga,M,{exercise:0,nextExercise:1})}}function pa(t){let e;return{c(){e=y("div"),e.textContent="+",T(e,"color","green")},m(a,n){_(a,e,n)},d(a){a&&k(e)}}}function ka(t){let e;return{c(){e=y("div"),e.textContent="X",T(e,"color","red")},m(a,n){_(a,e,n)},d(a){a&&k(e)}}}function _a(t){let e;return{c(){e=y("div"),e.textContent="?",T(e,"color","grey")},m(a,n){_(a,e,n)},d(a){a&&k(e)}}}function ja(t){let e,a,n;function r(o,l){if(l&1&&(a=null),l&1&&(n=null),o[0]==0)return _a;if(a==null&&(a=o[3][o[0]-1].score()==0),a)return ka;if(n==null&&(n=o[3][o[0]-1].score()==1),n)return pa}let s=r(t,-1),i=s&&s(t);return{c(){e=y("div"),i&&i.c(),h(e,"slot","sign")},m(o,l){_(o,e,l),i&&i.m(e,null)},p(o,l){s!==(s=r(o,l))&&(i&&i.d(1),i=s&&s(o),i&&(i.c(),i.m(e,null)))},d(o){o&&k(e),i&&i.d()}}}function wa(t){let e,a,n,r=t[2].assignement+"",s,i,o,l,c,u,m,f=t[2].hint+"",g,d,I,q,Y;return l=new ha({props:{score:t[1],$$slots:{sign:[ja]},$$scope:{ctx:t}}}),q=new ya({props:{exercise:t[2],nextExercise:t[4]}}),{c(){e=y("div"),a=y("div"),n=y("p"),s=x(r),i=E(),o=y("div"),z(l.$$.fragment),c=E(),u=y("div"),m=y("div"),g=x(f),d=E(),I=y("div"),z(q.$$.fragment),h(n,"class"," svelte-mkiyay"),h(a,"class","card assignment svelte-mkiyay"),h(o,"class","card score svelte-mkiyay"),h(m,"class","center svelte-mkiyay"),h(u,"class","card hint svelte-mkiyay"),T(u,"border","1px solid transparent"),h(I,"class","answer svelte-mkiyay"),T(I,"border","1px solid transparent"),h(e,"class","layout svelte-mkiyay")},m(w,K){_(w,e,K),b(e,a),b(a,n),b(n,s),b(e,i),b(e,o),A(l,o,null),b(e,c),b(e,u),b(u,m),b(m,g),b(e,d),b(e,I),A(q,I,null),Y=!0},p(w,[K]){(!Y||K&4)&&r!==(r=w[2].assignement+"")&&N(s,r);const se={};K&2&&(se.score=w[1]),K&257&&(se.$$scope={dirty:K,ctx:w}),l.$set(se),(!Y||K&4)&&f!==(f=w[2].hint+"")&&N(g,f);const ve={};K&4&&(ve.exercise=w[2]),q.$set(ve)},i(w){Y||(p(l.$$.fragment,w),p(q.$$.fragment,w),Y=!0)},o(w){j(l.$$.fragment,w),j(q.$$.fragment,w),Y=!1},d(w){w&&k(e),O(l),O(q)}}}function va(t,e,a){let n,r;const s=new Q;let o=new Wt().generateLesson(),l=0,c=0;function u(){a(1,c=o.reduce((m,f)=>m+f.score(),0)),s.increase(n.ID,n.checkAnswer()),r&&a(0,l++,l),r||console.log("The lesson just ended")}return t.$$.update=()=>{t.$$.dirty&1&&a(2,n=o[l]),t.$$.dirty&1&&(r=l+1<o.length)},[l,c,n,o,u]}class $a extends L{constructor(e){super(),C(this,e,va,wa,M,{})}}function xa(t){let e,a;return e=new ua({}),{c(){z(e.$$.fragment)},m(n,r){A(e,n,r),a=!0},i(n){a||(p(e.$$.fragment,n),a=!0)},o(n){j(e.$$.fragment,n),a=!1},d(n){O(e,n)}}}function Ea(t){let e,a;return e=new $a({}),{c(){z(e.$$.fragment)},m(n,r){A(e,n,r),a=!0},i(n){a||(p(e.$$.fragment,n),a=!0)},o(n){j(e.$$.fragment,n),a=!1},d(n){O(e,n)}}}function Sa(t){let e,a,n,r,s,i,o;return r=new Le({props:{path:"/japalearn/",$$slots:{default:[xa]},$$scope:{ctx:t}}}),i=new Le({props:{path:"/japalearn/exercise",$$slots:{default:[Ea]},$$scope:{ctx:t}}}),{c(){e=y("header"),e.innerHTML=`<nav class="svelte-1rsp3qx"><a href="/japalearn/" class="svelte-1rsp3qx">Grille</a> 
    <a href="/japalearn/exercise" class="svelte-1rsp3qx">Exercice</a></nav>`,a=E(),n=y("main"),z(r.$$.fragment),s=E(),z(i.$$.fragment),h(e,"class","svelte-1rsp3qx")},m(l,c){_(l,e,c),_(l,a,c),_(l,n,c),A(r,n,null),b(n,s),A(i,n,null),o=!0},p(l,[c]){const u={};c&1&&(u.$$scope={dirty:c,ctx:l}),r.$set(u);const m={};c&1&&(m.$$scope={dirty:c,ctx:l}),i.$set(m)},i(l){o||(p(r.$$.fragment,l),p(i.$$.fragment,l),o=!0)},o(l){j(r.$$.fragment,l),j(i.$$.fragment,l),o=!1},d(l){l&&k(e),l&&k(a),l&&k(n),O(r),O(i)}}}class Ha extends L{constructor(e){super(),C(this,e,null,Sa,M,{})}}new Ha({target:document.getElementById("app")});
