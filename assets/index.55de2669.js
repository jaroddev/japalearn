var et=Object.defineProperty;var tt=(t,e,a)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var O=(t,e,a)=>(tt(t,typeof e!="symbol"?e+"":e,a),a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();function y(){}function at(t,e){for(const a in e)t[a]=e[a];return t}function qe(t){return t()}function we(){return Object.create(null)}function P(t){t.forEach(qe)}function Ke(t){return typeof t=="function"}function R(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function nt(t){return Object.keys(t).length===0}function rt(t,...e){if(t==null)return y;const a=t.subscribe(...e);return a.unsubscribe?()=>a.unsubscribe():a}function ze(t,e,a){t.$$.on_destroy.push(rt(e,a))}function Fe(t,e,a,n){if(t){const r=Ne(t,e,a,n);return t[0](r)}}function Ne(t,e,a,n){return t[1]&&n?at(a.ctx.slice(),t[1](n(e))):a.ctx}function Ye(t,e,a,n){if(t[2]&&n){const r=t[2](n(a));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],s=Math.max(e.dirty.length,r.length);for(let o=0;o<s;o+=1)i[o]=e.dirty[o]|r[o];return i}return e.dirty|r}return e.dirty}function Ie(t,e,a,n,r,i){if(r){const s=Ne(e,a,n,i);t.p(s,r)}}function We(t){if(t.ctx.length>32){const e=[],a=t.ctx.length/32;for(let n=0;n<a;n++)e[n]=-1;return e}return-1}function d(t,e){t.appendChild(e)}function $(t,e,a){t.insertBefore(e,a||null)}function v(t){t.parentNode.removeChild(t)}function Pe(t,e){for(let a=0;a<t.length;a+=1)t[a]&&t[a].d(e)}function k(t){return document.createElement(t)}function S(t){return document.createTextNode(t)}function A(){return S(" ")}function st(){return S("")}function G(t,e,a,n){return t.addEventListener(e,a,n),()=>t.removeEventListener(e,a,n)}function p(t,e,a){a==null?t.removeAttribute(e):t.getAttribute(e)!==a&&t.setAttribute(e,a)}function it(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ye(t,e){t.value=e==null?"":e}function W(t,e,a,n){a===null?t.style.removeProperty(e):t.style.setProperty(e,a,n?"important":"")}let Z;function X(t){Z=t}function re(){if(!Z)throw new Error("Function called outside component initialization");return Z}function ot(t){re().$$.on_mount.push(t)}function lt(t,e){return re().$$.context.set(t,e),e}function me(t){return re().$$.context.get(t)}function ct(t){return re().$$.context.has(t)}const D=[],ve=[],V=[],$e=[],Be=Promise.resolve();let ce=!1;function De(){ce||(ce=!0,Be.then(Ge))}function ut(){return De(),Be}function ue(t){V.push(t)}const oe=new Set;let U=0;function Ge(){const t=Z;do{for(;U<D.length;){const e=D[U];U++,X(e),ft(e.$$)}for(X(null),D.length=0,U=0;ve.length;)ve.pop()();for(let e=0;e<V.length;e+=1){const a=V[e];oe.has(a)||(oe.add(a),a())}V.length=0}while(D.length);for(;$e.length;)$e.pop()();ce=!1,oe.clear(),X(t)}function ft(t){if(t.fragment!==null){t.update(),P(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ue)}}const ee=new Set;let N;function de(){N={r:0,c:[],p:N}}function ge(){N.r||P(N.c),N=N.p}function _(t,e){t&&t.i&&(ee.delete(t),t.i(e))}function b(t,e,a,n){if(t&&t.o){if(ee.has(t))return;ee.add(t),N.c.push(()=>{ee.delete(t),n&&(a&&t.d(1),n())}),t.o(e)}else n&&n()}function K(t){t&&t.c()}function L(t,e,a,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,a),n||ue(()=>{const s=t.$$.on_mount.map(qe).filter(Ke);t.$$.on_destroy?t.$$.on_destroy.push(...s):P(s),t.$$.on_mount=[]}),i.forEach(ue)}function C(t,e){const a=t.$$;a.fragment!==null&&(P(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function ht(t,e){t.$$.dirty[0]===-1&&(D.push(t),De(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(t,e,a,n,r,i,s,o=[-1]){const l=Z;X(t);const u=t.$$={fragment:null,ctx:[],props:i,update:y,not_equal:r,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:we(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};s&&s(u.root);let c=!1;if(u.ctx=a?a(t,e.props||{},(m,f,...g)=>{const h=g.length?g[0]:f;return u.ctx&&r(u.ctx[m],u.ctx[m]=h)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](h),c&&ht(t,m)),f}):[],u.update(),c=!0,P(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const m=it(e.target);u.fragment&&u.fragment.l(m),m.forEach(v)}else u.fragment&&u.fragment.c();e.intro&&_(t.$$.fragment),L(t,e.target,e.anchor,e.customElement),Ge()}X(l)}class F{$destroy(){C(this,1),this.$destroy=y}$on(e,a){if(!Ke(a))return y;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(a),()=>{const r=n.indexOf(a);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!nt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const I=[];function se(t,e=y){let a;const n=new Set;function r(o){if(R(t,o)&&(t=o,a)){const l=!I.length;for(const u of n)u[1](),I.push(u,t);if(l){for(let u=0;u<I.length;u+=2)I[u][0](I[u+1]);I.length=0}}}function i(o){r(o(t))}function s(o,l=y){const u=[o,l];return n.add(u),n.size===1&&(a=e(r)||y),o(t),()=>{n.delete(u),n.size===0&&(a(),a=null)}}return{set:r,update:i,subscribe:s}}function fe(t,e=!1){return t=t.slice(t.startsWith("/#")?2:0,t.endsWith("/*")?-2:void 0),t.startsWith("/")||(t="/"+t),t==="/"&&(t=""),e&&!t.endsWith("/")&&(t+="/"),t}function mt(t,e){t=fe(t,!0),e=fe(e,!0);let a=[],n={},r=!0,i=t.split("/").map(o=>o.startsWith(":")?(a.push(o.slice(1)),"([^\\/]+)"):o).join("\\/"),s=e.match(new RegExp(`^${i}$`));return s||(r=!1,s=e.match(new RegExp(`^${i}`))),s?(a.forEach((o,l)=>n[o]=s[l+1]),{exact:r,params:n,part:s[0].slice(0,-1)}):null}function Xe(t,e,a){if(a==="")return t;if(a[0]==="/")return a;let n=s=>s.split("/").filter(o=>o!==""),r=n(t),i=e?n(e):[];return"/"+i.map((s,o)=>r[o]).join("/")+"/"+a}function xe(t,e,a,n){let r=[e,"data-"+e].reduce((i,s)=>{let o=t.getAttribute(s);return a&&t.removeAttribute(s),o===null?i:o},!1);return!n&&r===""?!0:r||n||!1}function dt(t){let e=t.split("&").map(a=>a.split("=")).reduce((a,n)=>{let r=n[0];if(!r)return a;let i=n.length>1?n[n.length-1]:!0;return typeof i=="string"&&i.includes(",")&&(i=i.split(",")),a[r]===void 0?a[r]=[i]:a[r].push(i),a},{});return Object.entries(e).reduce((a,n)=>(a[n[0]]=n[1].length>1?n[1]:n[1][0],a),{})}function gt(t){return Object.entries(t).map(([e,a])=>a?a===!0?e:`${e}=${Array.isArray(a)?a.join(","):a}`:null).filter(e=>e).join("&")}function Se(t,e){return t?e+t:""}function Qe(t){throw new Error("[Tinro] "+t)}var H={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(t,e,a,n){return t===this.HISTORY?e&&e():t===this.HASH?a&&a():n&&n()},getDefault(){return!window||window.location.pathname==="srcdoc"?this.MEMORY:this.HISTORY}},pe,Ze,Je,te="",E=pt();function pt(){let t=H.getDefault(),e,a=s=>window.onhashchange=window.onpopstate=pe=null,n=s=>e&&e(le(t)),r=s=>{s&&(t=s),a(),t!==H.OFF&&H.run(t,o=>window.onpopstate=n,o=>window.onhashchange=n)&&n()},i=s=>{let o=Object.assign(le(t),s);return o.path+Se(gt(o.query),"?")+Se(o.hash,"#")};return{mode:r,get:s=>le(t),go(s,o){kt(t,s,o),n()},start(s){e=s,r()},stop(){e=null,r(H.OFF)},set(s){this.go(i(s),!s.path)},methods(){return _t(this)},base:s=>te=s}}function kt(t,e,a){!a&&(Ze=Je);let n=r=>history[`${a?"replace":"push"}State`]({},"",r);H.run(t,r=>n(te+e),r=>n(`#${e}`),r=>pe=e)}function le(t){let e=window.location,a=H.run(t,r=>(te?e.pathname.replace(te,""):e.pathname)+e.search+e.hash,r=>String(e.hash.slice(1)||"/"),r=>pe||"/"),n=a.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return Je=a,{url:a,from:Ze,path:n[1]||"",query:dt(n[2]||""),hash:n[3]||""}}function _t(t){let e=()=>t.get().query,a=s=>t.set({query:s}),n=s=>a(s(e())),r=()=>t.get().hash,i=s=>t.set({hash:s});return{hash:{get:r,set:i,clear:()=>i("")},query:{replace:a,clear:()=>a(""),get(s){return s?e()[s]:e()},set(s,o){n(l=>(l[s]=o,l))},delete(s){n(o=>(o[s]&&delete o[s],o))}}}}var he=bt();function bt(){let{subscribe:t}=se(E.get(),e=>{E.start(e);let a=jt(E.go);return()=>{E.stop(),a()}});return{subscribe:t,goto:E.go,params:wt,meta:$t,useHashNavigation:e=>E.mode(e?H.HASH:H.HISTORY),mode:{hash:()=>E.mode(H.HASH),history:()=>E.mode(H.HISTORY),memory:()=>E.mode(H.MEMORY)},base:E.base,location:E.methods()}}function jt(t){let e=a=>{let n=a.target.closest("a[href]"),r=n&&xe(n,"target",!1,"_self"),i=n&&xe(n,"tinro-ignore"),s=a.ctrlKey||a.metaKey||a.altKey||a.shiftKey;if(r=="_self"&&!i&&!s&&n){let o=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(o)||(a.preventDefault(),t(o.startsWith("/")?o:n.href.replace(window.location.origin,"")))}};return addEventListener("click",e),()=>removeEventListener("click",e)}function wt(){return me("tinro").meta.params}var ae="tinro",yt=Ue({pattern:"",matched:!0});function vt(t){let e=me(ae)||yt;(e.exact||e.fallback)&&Qe(`${t.fallback?"<Route fallback>":`<Route path="${t.path}">`}  can't be inside ${e.fallback?"<Route fallback>":`<Route path="${e.path||"/"}"> with exact path`}`);let a=t.fallback?"fallbacks":"childs",n=se({}),r=Ue({fallback:t.fallback,parent:e,update(i){r.exact=!i.path.endsWith("/*"),r.pattern=fe(`${r.parent.pattern||""}${i.path}`),r.redirect=i.redirect,r.firstmatch=i.firstmatch,r.breadcrumb=i.breadcrumb,r.match()},register:()=>(r.parent[a].add(r),async()=>{r.parent[a].delete(r),r.parent.activeChilds.delete(r),r.router.un&&r.router.un(),r.parent.match()}),show:()=>{t.onShow(),!r.fallback&&r.parent.activeChilds.add(r)},hide:()=>{t.onHide(),r.parent.activeChilds.delete(r)},match:async()=>{r.matched=!1;let{path:i,url:s,from:o,query:l}=r.router.location,u=mt(r.pattern,i);if(!r.fallback&&u&&r.redirect&&(!r.exact||r.exact&&u.exact)){let c=Xe(i,r.parent.pattern,r.redirect);return he.goto(c,!0)}r.meta=u&&{from:o,url:s,query:l,match:u.part,pattern:r.pattern,breadcrumbs:r.parent.meta&&r.parent.meta.breadcrumbs.slice()||[],params:u.params,subscribe:n.subscribe},r.breadcrumb&&r.meta&&r.meta.breadcrumbs.push({name:r.breadcrumb,path:u.part}),n.set(r.meta),u&&!r.fallback&&(!r.exact||r.exact&&u.exact)&&(!r.parent.firstmatch||!r.parent.matched)?(t.onMeta(r.meta),r.parent.matched=!0,r.show()):r.hide(),u&&r.showFallbacks()}});return lt(ae,r),ot(()=>r.register()),r}function $t(){return ct(ae)?me(ae).meta:Qe("meta() function must be run inside any `<Route>` child component only")}function Ue(t){let e={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await ut(),this.childs.size>0&&this.activeChilds.size==0||this.childs.size==0&&this.fallbacks.size>0)){let a=this;for(;a.fallbacks.size==0;)if(a=a.parent,!a)return;a&&a.fallbacks.forEach(n=>{if(n.redirect){let r=Xe("/",n.parent.pattern,n.redirect);he.goto(r,!0)}else n.show()})}},start(){this.router.un||(this.router.un=he.subscribe(a=>{this.router.location=a,this.pattern!==null&&this.match()}))},match(){this.showFallbacks()}};return Object.assign(e,t),e.start(),e}const xt=t=>({params:t&2,meta:t&4}),Ee=t=>({params:t[1],meta:t[2]});function He(t){let e;const a=t[9].default,n=Fe(a,t,t[8],Ee);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&262)&&Ie(n,a,r,r[8],e?Ye(a,r[8],i,xt):We(r[8]),Ee)},i(r){e||(_(n,r),e=!0)},o(r){b(n,r),e=!1},d(r){n&&n.d(r)}}}function St(t){let e,a,n=t[0]&&He(t);return{c(){n&&n.c(),e=st()},m(r,i){n&&n.m(r,i),$(r,e,i),a=!0},p(r,[i]){r[0]?n?(n.p(r,i),i&1&&_(n,1)):(n=He(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(de(),b(n,1,1,()=>{n=null}),ge())},i(r){a||(_(n),a=!0)},o(r){b(n),a=!1},d(r){n&&n.d(r),r&&v(e)}}}function Et(t,e,a){let{$$slots:n={},$$scope:r}=e,{path:i="/*"}=e,{fallback:s=!1}=e,{redirect:o=!1}=e,{firstmatch:l=!1}=e,{breadcrumb:u=null}=e,c=!1,m={},f={};const g=vt({fallback:s,onShow(){a(0,c=!0)},onHide(){a(0,c=!1)},onMeta(h){a(2,f=h),a(1,m=f.params)}});return t.$$set=h=>{"path"in h&&a(3,i=h.path),"fallback"in h&&a(4,s=h.fallback),"redirect"in h&&a(5,o=h.redirect),"firstmatch"in h&&a(6,l=h.firstmatch),"breadcrumb"in h&&a(7,u=h.breadcrumb),"$$scope"in h&&a(8,r=h.$$scope)},t.$$.update=()=>{t.$$.dirty&232&&g.update({path:i,redirect:o,firstmatch:l,breadcrumb:u})},[c,m,f,i,s,o,l,u,r,n]}class Ae extends F{constructor(e){super(),z(this,e,Et,St,R,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}class Ht{constructor(){O(this,"subsets")}}var M=(t=>(t[t.Kata=0]="Kata",t[t.Hira=1]="Hira",t))(M||{});class At{static createKana(e){let a=new Ht;return a.subsets=[e.common(),e.extended(),e.dakuon(),e.handakuon()],a}}class Ot{constructor(){O(this,"assignement");O(this,"hint");O(this,"answer")}checkAnswer(){return this.answer.given.toLowerCase()===this.answer.expected.toLowerCase()}score(){return this.checkAnswer()?1:0}}const Mt="Common Kana",Lt=[{romaji:"a",hiragana:"\u3042",katakana:"\u30A2"},{romaji:"i",hiragana:"\u3044",katakana:"\u30A4"},{romaji:"u",hiragana:"\u3046",katakana:"\u30A6"},{romaji:"e",hiragana:"\u3048",katakana:"\u30A8"},{romaji:"o",hiragana:"\u304A",katakana:"\u30AA"},{romaji:"ka",hiragana:"\u304B",katakana:"\u30AB"},{romaji:"ki",hiragana:"\u304D",katakana:"\u30AD"},{romaji:"ku",hiragana:"\u304F",katakana:"\u30AF"},{romaji:"ke",hiragana:"\u3051",katakana:"\u30B1"},{romaji:"ko",hiragana:"\u3053",katakana:"\u30B3"},{romaji:"sa",hiragana:"\u3055",katakana:"\u30B5"},{romaji:"shi",hiragana:"\u3057",katakana:"\u30B7"},{romaji:"su",hiragana:"\u3059",katakana:"\u30B9"},{romaji:"se",hiragana:"\u305B",katakana:"\u30BB"},{romaji:"so",hiragana:"\u305D",katakana:"\u30BD"},{romaji:"ta",hiragana:"\u305F",katakana:"\u30BF"},{romaji:"chi",hiragana:"\u3061",katakana:"\u30C1"},{romaji:"tsu",hiragana:"\u3064",katakana:"\u30C4"},{romaji:"te",hiragana:"\u3066",katakana:"\u30C6"},{romaji:"to",hiragana:"\u3068",katakana:"\u30C8"},{romaji:"na",hiragana:"\u306A",katakana:"\u30CA"},{romaji:"ni",hiragana:"\u306B",katakana:"\u30CB"},{romaji:"nu",hiragana:"\u306C",katakana:"\u30CC"},{romaji:"ne",hiragana:"\u306D",katakana:"\u30CD"},{romaji:"no",hiragana:"\u306E",katakana:"\u30CE"},{romaji:"ha",hiragana:"\u306F",katakana:"\u30CF"},{romaji:"hi",hiragana:"\u3072",katakana:"\u30D2"},{romaji:"fu",hiragana:"\u3075",katakana:"\u30D5"},{romaji:"he",hiragana:"\u3078",katakana:"\u30D8"},{romaji:"ho",hiragana:"\u307B",katakana:"\u30DB"},{romaji:"ma",hiragana:"\u307E",katakana:"\u30DE"},{romaji:"mi",hiragana:"\u307F",katakana:"\u30DF"},{romaji:"mu",hiragana:"\u3080",katakana:"\u30E0"},{romaji:"me",hiragana:"\u3081",katakana:"\u30E1"},{romaji:"mo",hiragana:"\u3082",katakana:"\u30E2"},{romaji:"ra",hiragana:"\u3089",katakana:"\u30E9"},{romaji:"ri",hiragana:"\u308A",katakana:"\u30EA"},{romaji:"ru",hiragana:"\u308B",katakana:"\u30EB"},{romaji:"re",hiragana:"\u308C",katakana:"\u30EC"},{romaji:"ro",hiragana:"\u308D",katakana:"\u30ED"}],Ct={name:Mt,letters:Lt},Rt="Other Kana",Tt=[{romaji:"ya",hiragana:"\u3084",katakana:"\u30E4"},{romaji:"yu",hiragana:"\u3086",katakana:"\u30E6"},{romaji:"yo",hiragana:"\u3088",katakana:"\u30E8"},{romaji:"wa",hiragana:"\u308F",katakana:"\u30EF"},{romaji:"n",hiragana:"\u3093",katakana:"\u30F3"}],qt={name:Rt,letters:Tt},Kt="Dakuon",zt=[{romaji:"ga",hiragana:"\u304C",katakana:"\u30AC"},{romaji:"gi",hiragana:"\u304E",katakana:"\u30AE"},{romaji:"gu",hiragana:"\u3050",katakana:"\u30B0"},{romaji:"ge",hiragana:"\u3052",katakana:"\u30B2"},{romaji:"go",hiragana:"\u3054",katakana:"\u30B4"},{romaji:"za",hiragana:"\u3056",katakana:"\u30B6"},{romaji:"ji",hiragana:"\u3058",katakana:"\u30B8"},{romaji:"zu",hiragana:"\u305A",katakana:"\u30BA"},{romaji:"ze",hiragana:"\u305C",katakana:"\u30BC"},{romaji:"zo",hiragana:"\u305E",katakana:"\u30BE"},{romaji:"da",hiragana:"\u3060",katakana:"\u30C0"},{romaji:"ji",hiragana:"\u3062",katakana:"\u30C2"},{romaji:"zu",hiragana:"\u3065",katakana:"\u30C5"},{romaji:"de",hiragana:"\u3067",katakana:"\u30C7"},{romaji:"do",hiragana:"\u3069",katakana:"\u30C9"},{romaji:"ba",hiragana:"\u3070",katakana:"\u30D0"},{romaji:"bi",hiragana:"\u3073",katakana:"\u30D3"},{romaji:"bu",hiragana:"\u3076",katakana:"\u30D6"},{romaji:"be",hiragana:"\u3079",katakana:"\u30D9"},{romaji:"bo",hiragana:"\u307C",katakana:"\u30DC"}],Ft={name:Kt,letters:zt},Nt="Handakuon",Yt=[{romaji:"pa",hiragana:"\u3071",katakana:"\u30D1"},{romaji:"pi",hiragana:"\u3074",katakana:"\u30D4"},{romaji:"pu",hiragana:"\u3077",katakana:"\u30D7"},{romaji:"pe",hiragana:"\u307A",katakana:"\u30DA"},{romaji:"po",hiragana:"\u307D",katakana:"\u30DD"}],It={name:Nt,letters:Yt};class Ve{common(){return Ct}extended(){return qt}dakuon(){return Ft}handakuon(){return It}}class Wt{constructor(){O(this,"factory");this.factory=new Ve}generateExercise(e,a){let n=new Ot;return n.assignement=`Translate this ${e} into romaji`,n.hint=a[e],n.answer={expected:a.romaji,given:""},n}generateLesson(){return[this.factory.common(),this.factory.extended(),this.factory.dakuon(),this.factory.handakuon()].flatMap(a=>Q.drawLetters(a.letters,3)).map(a=>{const n=Q.drawAlphabet();return this.generateExercise(n,a)})}}const ne=class{static drawAlphabet(){return ne.ExerciseType[Math.floor(Math.random()*ne.ExerciseType.length)]}static drawLetters(e,a){return a>e.length&&(a=e.length),Pt(e).slice(0,a)}};let Q=ne;O(Q,"ExerciseType",["katakana","hiragana"]);function Pt(t){const e=Array.from(t);for(t.length=0;e.length>0;){const a=Math.floor(Math.random()*e.length);t.push(e[a]),e.splice(a,1)}return t}const ke=Bt();function Bt(){const t=M.Hira,{subscribe:e,set:a}=se(t);let n=t;return{subscribe:e,changeType:()=>{n===M.Hira?n=M.Kata:n=M.Hira,a(n)}}}function Dt(t){let e,a,n,r,i,s,o,l;return{c(){e=k("button"),a=k("p"),n=S(t[0]),r=A(),i=k("p"),s=S(t[1]),p(a,"class","japanese svelte-58djdn"),p(i,"class","svelte-58djdn"),p(e,"class","letter svelte-58djdn")},m(u,c){$(u,e,c),d(e,a),d(a,n),d(e,r),d(e,i),d(i,s),o||(l=G(e,"click",t[2]),o=!0)},p(u,[c]){c&1&&q(n,u[0]),c&2&&q(s,u[1])},i:y,o:y,d(u){u&&v(e),o=!1,l()}}}function Gt(t,e,a){let{japanese:n}=e,{romaji:r}=e;function i(){console.log("japanese is ",n," and romaji is ",r)}return t.$$set=s=>{"japanese"in s&&a(0,n=s.japanese),"romaji"in s&&a(1,r=s.romaji)},[n,r,i]}class Xt extends F{constructor(e){super(),z(this,e,Gt,Dt,R,{japanese:0,romaji:1})}}function Oe(t,e,a){const n=t.slice();return n[4]=e[a].romaji,n[5]=e[a].hiragana,n[6]=e[a].katakana,n}const Qt=t=>({}),Me=t=>({});function Le(t){let e,a;return e=new Xt({props:{japanese:t[1]===M.Hira?t[5]:t[6],romaji:t[4]}}),{c(){K(e.$$.fragment)},m(n,r){L(e,n,r),a=!0},p(n,r){const i={};r&3&&(i.japanese=n[1]===M.Hira?n[5]:n[6]),r&1&&(i.romaji=n[4]),e.$set(i)},i(n){a||(_(e.$$.fragment,n),a=!0)},o(n){b(e.$$.fragment,n),a=!1},d(n){C(e,n)}}}function Zt(t){let e,a,n,r;const i=t[3].header,s=Fe(i,t,t[2],Me);let o=t[0],l=[];for(let c=0;c<o.length;c+=1)l[c]=Le(Oe(t,o,c));const u=c=>b(l[c],1,1,()=>{l[c]=null});return{c(){e=k("div"),s&&s.c(),a=A(),n=k("div");for(let c=0;c<l.length;c+=1)l[c].c();p(n,"class","grid svelte-19swv05"),p(e,"class","subset svelte-19swv05")},m(c,m){$(c,e,m),s&&s.m(e,null),d(e,a),d(e,n);for(let f=0;f<l.length;f+=1)l[f].m(n,null);r=!0},p(c,[m]){if(s&&s.p&&(!r||m&4)&&Ie(s,i,c,c[2],r?Ye(i,c[2],m,Qt):We(c[2]),Me),m&3){o=c[0];let f;for(f=0;f<o.length;f+=1){const g=Oe(c,o,f);l[f]?(l[f].p(g,m),_(l[f],1)):(l[f]=Le(g),l[f].c(),_(l[f],1),l[f].m(n,null))}for(de(),f=o.length;f<l.length;f+=1)u(f);ge()}},i(c){if(!r){_(s,c);for(let m=0;m<o.length;m+=1)_(l[m]);r=!0}},o(c){b(s,c),l=l.filter(Boolean);for(let m=0;m<l.length;m+=1)b(l[m]);r=!1},d(c){c&&v(e),s&&s.d(c),Pe(l,c)}}}function Jt(t,e,a){let n;ze(t,ke,o=>a(1,n=o));let{$$slots:r={},$$scope:i}=e,{letters:s}=e;return t.$$set=o=>{"letters"in o&&a(0,s=o.letters),"$$scope"in o&&a(2,i=o.$$scope)},[s,n,i,r]}class Ut extends F{constructor(e){super(),z(this,e,Jt,Zt,R,{letters:0})}}function Vt(t){let e,a,n,r,i;return{c(){e=k("p"),a=k("span"),n=S("* "),r=S(t[0]),i=S(" *"),p(a,"class","svelte-rtoy8f"),p(e,"class","name svelte-rtoy8f")},m(s,o){$(s,e,o),d(e,a),d(a,n),d(a,r),d(a,i)},p(s,[o]){o&1&&q(r,s[0])},i:y,o:y,d(s){s&&v(e)}}}function ea(t,e,a){let{name:n}=e;return t.$$set=r=>{"name"in r&&a(0,n=r.name)},[n]}class ta extends F{constructor(e){super(),z(this,e,ea,Vt,R,{name:0})}}function Ce(t,e,a){const n=t.slice();return n[3]=e[a].name,n[4]=e[a].letters,n}function aa(t){let e,a,n,r;return a=new ta({props:{name:t[3]}}),{c(){e=k("div"),K(a.$$.fragment),n=A(),p(e,"slot","header")},m(i,s){$(i,e,s),L(a,e,null),d(e,n),r=!0},p:y,i(i){r||(_(a.$$.fragment,i),r=!0)},o(i){b(a.$$.fragment,i),r=!1},d(i){i&&v(e),C(a)}}}function Re(t){let e,a;return e=new Ut({props:{letters:t[4],$$slots:{header:[aa]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},m(n,r){L(e,n,r),a=!0},p(n,r){const i={};r&128&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){a||(_(e.$$.fragment,n),a=!0)},o(n){b(e.$$.fragment,n),a=!1},d(n){C(e,n)}}}function na(t){let e,a,n,r=t[0]===M.Hira?"Katakana":"Hiragana",i,s,o,l,u=t[1].subsets,c=[];for(let f=0;f<u.length;f+=1)c[f]=Re(Ce(t,u,f));const m=f=>b(c[f],1,1,()=>{c[f]=null});return{c(){e=k("div");for(let f=0;f<c.length;f+=1)c[f].c();a=A(),n=k("button"),i=S(r),p(e,"class","container svelte-t1ycgn"),p(n,"class","switch svelte-t1ycgn")},m(f,g){$(f,e,g);for(let h=0;h<c.length;h+=1)c[h].m(e,null);$(f,a,g),$(f,n,g),d(n,i),s=!0,o||(l=G(n,"click",ke.changeType),o=!0)},p(f,[g]){if(g&2){u=f[1].subsets;let h;for(h=0;h<u.length;h+=1){const w=Ce(f,u,h);c[h]?(c[h].p(w,g),_(c[h],1)):(c[h]=Re(w),c[h].c(),_(c[h],1),c[h].m(e,null))}for(de(),h=u.length;h<c.length;h+=1)m(h);ge()}(!s||g&1)&&r!==(r=f[0]===M.Hira?"Katakana":"Hiragana")&&q(i,r)},i(f){if(!s){for(let g=0;g<u.length;g+=1)_(c[g]);s=!0}},o(f){c=c.filter(Boolean);for(let g=0;g<c.length;g+=1)b(c[g]);s=!1},d(f){f&&v(e),Pe(c,f),f&&v(a),f&&v(n),o=!1,l()}}}function ra(t,e,a){let n;ze(t,ke,s=>a(0,n=s));const r=new Ve;let i=At.createKana(r);return[n,i]}class sa extends F{constructor(e){super(),z(this,e,ra,na,R,{})}}class _e{constructor(){O(this,"state");O(this,"message");this.state="unseen",this.message=""}}const ia=new _e;function oa(t,e){const a=new _e;a.message=t,a.state="success",e.set(a)}function la(t,e){const a=new _e;a.message=t,a.state="error",e.set(a)}const Te=se(ia);function ca(t){let e,a,n,r,i,s;return{c(){e=k("div"),a=k("div"),n=S(t[1]),r=A(),i=k("div"),s=S(t[0]),p(a,"class","previous svelte-trjirs"),W(a,"color",t[2]),p(i,"class","count svelte-trjirs"),p(e,"class","panel svelte-trjirs"),W(e,"border","2px solid "+t[2])},m(o,l){$(o,e,l),d(e,a),d(a,n),d(e,r),d(e,i),d(i,s)},p(o,[l]){l&2&&q(n,o[1]),l&4&&W(a,"color",o[2]),l&1&&q(s,o[0]),l&4&&W(e,"border","2px solid "+o[2])},i:y,o:y,d(o){o&&v(e)}}}function ua(t,e,a){let{score:n=0}=e,{sign:r}=e,{color:i}=e;return t.$$set=s=>{"score"in s&&a(0,n=s.score),"sign"in s&&a(1,r=s.sign),"color"in s&&a(2,i=s.color)},[n,r,i]}class fa extends F{constructor(e){super(),z(this,e,ua,ca,R,{score:0,sign:1,color:2})}}function ha(t){let e,a,n,r=t[3].assignement+"",i,s,o,l,u,c,m,f=t[3].hint+"",g,h,w,x,be,B,Y,ie,je;return l=new fa({props:{score:t[0],sign:t[1],color:t[2]}}),{c(){e=k("div"),a=k("div"),n=k("p"),i=S(r),s=A(),o=k("div"),K(l.$$.fragment),u=A(),c=k("div"),m=k("div"),g=S(f),h=A(),w=k("div"),x=k("input"),be=A(),B=k("button"),B.textContent="Check if valid",p(n,"class"," svelte-oiesxn"),p(a,"class","card assignment svelte-oiesxn"),p(o,"class","card score svelte-oiesxn"),p(m,"class","center svelte-oiesxn"),p(c,"class","card hint svelte-oiesxn"),W(c,"border","1px solid transparent"),p(x,"class","card svelte-oiesxn"),p(x,"type","text"),p(x,"placeholder","translation"),p(B,"class","svelte-oiesxn"),p(w,"class","answer svelte-oiesxn"),W(w,"border","1px solid transparent"),p(e,"class","layout svelte-oiesxn")},m(j,T){$(j,e,T),d(e,a),d(a,n),d(n,i),d(e,s),d(e,o),L(l,o,null),d(e,u),d(e,c),d(c,m),d(m,g),d(e,h),d(e,w),d(w,x),ye(x,t[3].answer.given),d(w,be),d(w,B),Y=!0,ie||(je=[G(x,"input",t[7]),G(x,"keydown",t[5]),G(B,"click",t[4])],ie=!0)},p(j,[T]){(!Y||T&8)&&r!==(r=j[3].assignement+"")&&q(i,r);const J={};T&1&&(J.score=j[0]),T&2&&(J.sign=j[1]),T&4&&(J.color=j[2]),l.$set(J),(!Y||T&8)&&f!==(f=j[3].hint+"")&&q(g,f),T&8&&x.value!==j[3].answer.given&&ye(x,j[3].answer.given)},i(j){Y||(_(l.$$.fragment,j),Y=!0)},o(j){b(l.$$.fragment,j),Y=!1},d(j){j&&v(e),C(l),ie=!1,P(je)}}}function ma(t){return t=="?"?"grey":t=="X"?"red":"green"}function da(t){if(console.log(t),t==-1)return"?";if(t==0)return"X";if(t==1)return"+"}function ga(t,e,a){let n,r,s=new Wt().generateLesson(),o=0,l=0,u=-1,c="?",m="grey";function f(){n.checkAnswer()?(oa("You've guessed correctly !",Te),u=1):(la("Wrong one",Te),u=0),a(1,c=da(u)),a(2,m=ma(c)),a(0,l=s.reduce((w,x)=>w+x.score(),0)),r&&a(6,o++,o)}function g(w){w.key=="Enter"&&f()}function h(){n.answer.given=this.value,a(3,n),a(11,s),a(6,o)}return t.$$.update=()=>{t.$$.dirty&64&&a(3,n=s[o]),t.$$.dirty&64&&(r=o+1<s.length)},[l,c,m,n,f,g,o,h]}class pa extends F{constructor(e){super(),z(this,e,ga,ha,R,{})}}function ka(t){let e,a;return e=new sa({}),{c(){K(e.$$.fragment)},m(n,r){L(e,n,r),a=!0},i(n){a||(_(e.$$.fragment,n),a=!0)},o(n){b(e.$$.fragment,n),a=!1},d(n){C(e,n)}}}function _a(t){let e,a;return e=new pa({}),{c(){K(e.$$.fragment)},m(n,r){L(e,n,r),a=!0},i(n){a||(_(e.$$.fragment,n),a=!0)},o(n){b(e.$$.fragment,n),a=!1},d(n){C(e,n)}}}function ba(t){let e,a,n,r,i,s,o;return r=new Ae({props:{path:"/japalearn/",$$slots:{default:[ka]},$$scope:{ctx:t}}}),s=new Ae({props:{path:"/japalearn/exercise",$$slots:{default:[_a]},$$scope:{ctx:t}}}),{c(){e=k("header"),e.innerHTML=`<nav class="svelte-1rsp3qx"><a href="/japalearn/" class="svelte-1rsp3qx">Grille</a> 
    <a href="/japalearn/exercise" class="svelte-1rsp3qx">Exercice</a></nav>`,a=A(),n=k("main"),K(r.$$.fragment),i=A(),K(s.$$.fragment),p(e,"class","svelte-1rsp3qx")},m(l,u){$(l,e,u),$(l,a,u),$(l,n,u),L(r,n,null),d(n,i),L(s,n,null),o=!0},p(l,[u]){const c={};u&1&&(c.$$scope={dirty:u,ctx:l}),r.$set(c);const m={};u&1&&(m.$$scope={dirty:u,ctx:l}),s.$set(m)},i(l){o||(_(r.$$.fragment,l),_(s.$$.fragment,l),o=!0)},o(l){b(r.$$.fragment,l),b(s.$$.fragment,l),o=!1},d(l){l&&v(e),l&&v(a),l&&v(n),C(r),C(s)}}}class ja extends F{constructor(e){super(),z(this,e,null,ba,R,{})}}new ja({target:document.getElementById("app")});
